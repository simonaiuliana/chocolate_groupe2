"use strict";var _excluded=["type"],_excluded2=["type"];function _objectWithoutProperties(t,e){if(null==t)return{};var r,n,i=_objectWithoutPropertiesLoose(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function _objectWithoutPropertiesLoose(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||(i[r]=t[r]);return i}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){_defineProperty(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _createForOfIteratorHelper(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(r){var n={};function i(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return r[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=r,i.c=n,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==_typeof(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=8)}([function(t,e,r){r.d(e,"l",function(){return p}),r.d(e,"d",function(){return n}),r.d(e,"f",function(){return i}),r.d(e,"k",function(){return o}),r.d(e,"c",function(){return a}),r.d(e,"j",function(){return s}),r.d(e,"m",function(){return u}),r.d(e,"i",function(){return c}),r.d(e,"g",function(){return l}),r.d(e,"n",function(){return m}),r.d(e,"e",function(){return y}),r.d(e,"b",function(){return v}),r.d(e,"h",function(){return g}),r.d(e,"P",function(){return J}),r.d(e,"u",function(){return _}),r.d(e,"F",function(){return b}),r.d(e,"D",function(){return S}),r.d(e,"B",function(){return E}),r.d(e,"E",function(){return j}),r.d(e,"C",function(){return w}),r.d(e,"N",function(){return T}),r.d(e,"M",function(){return C}),r.d(e,"L",function(){return D}),r.d(e,"K",function(){return x}),r.d(e,"O",function(){return M}),r.d(e,"r",function(){return I}),r.d(e,"t",function(){return A}),r.d(e,"Q",function(){return P}),r.d(e,"w",function(){return L}),r.d(e,"v",function(){return N}),r.d(e,"I",function(){return U}),r.d(e,"s",function(){return z}),r.d(e,"z",function(){return K}),r.d(e,"J",function(){return q}),r.d(e,"q",function(){return H}),r.d(e,"a",function(){return $}),r.d(e,"A",function(){return G}),r.d(e,"o",function(){return X}),r.d(e,"G",function(){return Q}),r.d(e,"x",function(){return Y}),r.d(e,"p",function(){return Z}),r.d(e,"H",function(){return tt}),r.d(e,"y",function(){return et});var p="rgba",n=["rgb",p,"hsl","hsla"],i="function",o="property",a="array",s="object",u="string",c="number",l="undefined"!=typeof window,f="undefined"!=typeof document&&document,d=["webkit","ms","moz","o"],h=function(t){if(!f)return"";var e=(f.body||f.documentElement).style,r=d.length;if(void 0!==e[t])return t;for(var n=0;n<r;++n){var i="-"+d[n]+"-"+t;if(void 0!==e[i])return i}return""},m=h("transform"),y=h("filter"),v=h("animation"),g=v.replace("animation","keyframes"),O=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}];function _(t,e,r,n){return(t*n+e*r)/(r+n)}function b(t){return void 0===t}function S(t){return t&&_typeof(t)===s}function E(t){return Array.isArray(t)}function j(t){return _typeof(t)===u}function w(t){return _typeof(t)===i}function k(t,e,r){if(!t.ignore)return null;var n=e.slice(Math.max(r-3,0),r+3).join("");return new RegExp(t.ignore).exec(n)}function T(a,t){var e=j(t)?{separator:t}:t,r=e.separator,s=void 0===r?",":r,u=e.isSeparateFirst,c=e.isSeparateOnlyOpenClose,n=e.isSeparateOpenClose,l=void 0===n?c:n,i=e.openCloseCharacters,f=void 0===i?O:i,o=f.map(function(t){var e=t.open,r=t.close;return e===r?e:e+"|"+r}).join("|"),d=new RegExp("(\\s*"+s+"\\s*|"+o+"|\\s+)","g"),p=a.split(d).filter(function(t){return t&&"undefined"!==t}),h=p.length,m=[],y=[];function v(){return!!y.length&&(m.push(y.join("")),y=[],!0)}for(var g,_=function(t){var e=p[t].trim(),r=t,n=N(f,function(t){return t.open===e}),i=N(f,function(t){return t.close===e});if(n){if(-1!==(r=function c(t,e,l,r,n){return k(t,e,l)?l:function(i,o,t,a,s){for(var u,e=function(t){var e=o[t].trim();if(e===i.close&&!k(i,o,t))return{value:t};var r=t,n=N(s,function(t){return t.open===e});if(n&&(r=c(n,o,t,a,s)),-1===r)return u=t,"break";u=t=r},r=l+1;r<a;++r){var n=e(r);if(r=u,"object"==_typeof(n))return n.value;if("break"===n)break}return-1}(t,e,0,r,n)}(n,p,t,h,f))&&l)return v()&&u?(g=t,"break"):(m.push(p.slice(t,r+1).join("")),t=r,u?(g=t,"break"):(g=t,"continue"))}else{if(i&&!k(i,p,t)){var o=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}(f);return o.splice(f.indexOf(i),1),{value:T(a,{separator:s,isSeparateFirst:u,isSeparateOnlyOpenClose:c,isSeparateOpenClose:l,openCloseCharacters:o})}}if(!((""!==s&&" "!=s||""!==e&&" "!=e)&&e!==s||c))return v(),u?(g=t,"break"):(g=t,"continue")}-1===r&&(r=h-1),y.push(p.slice(t,r+1).join("")),g=t=r},b=0;b<h;++b){var S=_(b);if(b=g,"object"==_typeof(S))return S.value;if("break"===S)break}return y.length&&m.push(y.join("")),m}function C(t){return T(t,"")}function D(t){return T(t,",")}function x(t){var e=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(t);return!e||e.length<4?{}:{prefix:e[1],value:e[2],suffix:e[3]}}function M(t){var e=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);if(!e)return{prefix:"",unit:"",value:NaN};var r=e[1],n=e[2];return{prefix:r,unit:e[3],value:parseFloat(n)}}function I(t){return t.replace(/[\s-_]+([^\s-_])/g,function(t,e){return e.toUpperCase()})}function A(t,n){return void 0===n&&(n="-"),t.replace(/([a-z])([A-Z])/g,function(t,e,r){return""+e+n+r.toLowerCase()})}function P(t){return[].slice.call(t)}function F(){return Date.now?Date.now():(new Date).getTime()}function L(t,e,r){void 0===r&&(r=-1);for(var n=t.length,i=0;i<n;++i)if(e(t[i],i,t))return i;return r}function N(t,e,r){var n=L(t,e);return-1<n?t[n]:r}var R,W,B,U=(W=F(),(B=l&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame))?B.bind(window):function(t){var e=F();return setTimeout(function(){t(e-W)},1e3/60)}),z=(R=l&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame))?R.bind(window):function(t){clearTimeout(t)};function K(t){return Object.keys(t)}function q(t,i){void 0===i&&(i=[]),t.sort(function(t,e){var r=i.indexOf(t),n=i.indexOf(e);return-1===n&&-1===r?0:-1===r?1:-1===n?-1:r-n})}function H(t,e,r){return Math.max(e,Math.min(t,r))}function V(t){var e=t.replace("#",""),r=parseInt(e.substring(0,2),16),n=parseInt(e.substring(2,4),16),i=parseInt(e.substring(4,6),16),o=parseInt(e.substring(6,8),16)/255;return isNaN(o)&&(o=1),[r,n,i,o]}function J(t){if("#"===t.charAt(0))return 4===t.length||5===t.length?V(["#",c=(u=t).charAt(1),c,l=u.charAt(2),l,f=u.charAt(3),f,d=u.charAt(4),d].join("")):V(t);if(-1!==t.indexOf("(")){var e=x(t),r=e.prefix,n=e.value;if(!r||!n)return;var i=D(n),o=[0,0,0,1],a=i.length;switch(r){case"rgb":case p:for(var s=0;s<a;++s)o[s]=parseFloat(i[s]);return o;case"hsl":case"hsla":for(s=0;s<a;++s)-1!==i[s].indexOf("%")?o[s]=parseFloat(i[s])/100:o[s]=parseFloat(i[s]);return function(t){var e,r=t[0],n=t[1],i=t[2];r<0&&(r+=360*Math.floor((Math.abs(r)+360)/360)),r%=360;var o,a=(1-Math.abs(2*i-1))*n,s=a*(1-Math.abs(r/60%2-1)),u=i-a/2;return o=r<60?[a,s,0]:r<120?[s,a,0]:r<180?[0,a,s]:r<240?[0,s,a]:r<300?[s,0,a]:r<360?[a,0,s]:[0,0,0],[Math.round(255*(o[0]+u)),Math.round(255*(o[1]+u)),Math.round(255*(o[2]+u)),null!==(e=t[3])&&void 0!==e?e:1]}(o)}}var u,c,l,f,d}function $(t,e){return f?e?f.querySelectorAll(t):f.querySelector(t):e?[]:null}function G(t,e){return t.classList?t.classList.contains(e):!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function X(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function Q(t,e){if(t.classList)t.classList.remove(e);else{var r=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(r," ")}}function Y(t,e){if(!t||!e||!e.length)return{};var r;if(t instanceof Element)r=t;else{if(!t.length)return{};r=t[0]}for(var n,i,o={},a=(n=r,(null===(i=null==n?void 0:n.ownerDocument)||void 0===i?void 0:i.defaultView)||window).getComputedStyle(r),s=e.length,u=0;u<s;++u)o[e[u]]=a[e[u]];return o}function Z(t,e,r,n){t.addEventListener(e,r,n)}function tt(t,e,r,n){t.removeEventListener(e,r,n)}function et(t){return(null==t?void 0:t.ownerDocument)||f}},function(t,e,r){r.r(e),e.default=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"getQueryParam",value:function(t){for(var e={},r=window.location.search.substring(1).split("&"),n=0;n<r.length;n++){var i=r[n].split("=");e[i[0]]=decodeURIComponent(i[1])}return e[t]}},{key:"loadScript",value:function(n){var i=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"text/javascript";return new Promise(function(e,r){try{var t=document.createElement("script");t.type=o,t.async=i,t.src=n,t.addEventListener("load",function(t){e({status:!0})}),t.addEventListener("error",function(t){r({status:!1,message:"Failed to load the script "+n})}),document.body.appendChild(t)}catch(t){r(t)}})}},{key:"isObject",value:function(t){return t&&"object"==_typeof(t)&&!Array.isArray(t)}},{key:"mergeDeep",value:function(t){for(var e=arguments.length,r=new Array(1<e?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];if(!r.length)return t;var i=r.shift();if(this.isObject(t)&&this.isObject(i))for(var o in i)this.isObject(i[o])?(t[o]||Object.assign(t,_defineProperty({},o,{})),this.mergeDeep(t[o],i[o])):Object.assign(t,_defineProperty({},o,i[o]));return this.mergeDeep.apply(this,[t].concat(r))}},{key:"isEqual",value:function(t,e){if(null==t||null==e)return t===e;if(_typeof(t)!=_typeof(e))return!1;if("object"!=_typeof(t)||t instanceof Date)return t===e;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!this.isEqual(t[r],e[r]))return!1;return!0}var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(var o=0,a=n;o<a.length;o++){var s=a[o];if(!i.includes(s)||!this.isEqual(t[s],e[s]))return!1}return!0}},{key:"cloneDeep",value:function(t){var e=this;if(null===t||"object"!=_typeof(t))return t;if(Array.isArray(t))return t.map(function(t){return e.cloneDeep(t)});var r={};for(var n in t)t.hasOwnProperty(n)&&(r[n]=this.cloneDeep(t[n]));return r}},{key:"get",value:function(t,e,r){var n,i=_createForOfIteratorHelper(Array.isArray(e)?e:e.split("."));try{for(i.s();!(n=i.n()).done;){var o=n.value;if(!(t&&"object"==_typeof(t)&&o in t))return r;t=t[o]}}catch(t){i.e(t)}finally{i.f()}return t}},{key:"applyTransform",value:function(t,e,r){t.transform.includes(e)?t.transform=t.transform.replaceAll(", ",",").split(" ").map(function(t){return t.startsWith(e)?"".concat(e,"(").concat(r,")"):t}).join(" "):t.transform+=" ".concat(e,"(").concat(r,")")}},{key:"templateUsesFontScaling",value:function(t){return t&&new Date(t.split(" ")[0])>new Date("2022-09-23")}},{key:"shrinkText",value:function(n,t,e,r){var i,o=(i=t||window.getComputedStyle(n).getPropertyValue("font-size"),e?parseFloat(i)*(e/100):parseFloat(i)),a=n.querySelectorAll("ins");a&&a.length&&(["em","rem"].includes(n.style.fontSize)&&(n.style.fontSize=16*Number(n.style.fontSize.replace(/[^0-9\.]+/g,""))+"px"),a.forEach(function(t){if(t.style.fontSize.includes("px")){var e=Number(n.style.fontSize.replace(/[^0-9\.]+/g,"")),r=Number(t.style.fontSize.replace(/[^0-9\.]+/g,""))/e;t.style.fontSize=r+"em"}}));var s=n.offsetWidth,u=n.offsetHeight,c=parseFloat(window.getComputedStyle(n).getPropertyValue("font-size")),l=(r?n.querySelector(".text-wrapper"):n.querySelector("span")).innerHTML,f=document.createElement("div");f.style.font=window.getComputedStyle(n).getPropertyValue("font"),f.style.lineHeight=n.style.lineHeight,f.style.textAlign=n.style.textAlign,f.style.textTransform=n.style.textTransform,f.style.letterSpacing=n.style.letterSpacing,f.style.position="absolute",f.style.top="-99999px",f.style.left="-99999px",f.style.width=s+"px",f.style.height=u+"px",f.style.padding=n.style.padding,f.style.margin=n.style.margin,f.style.wordBreak=n.style.wordBreak,f.style.transform=n.style.transform,f.innerHTML=l,document.body.appendChild(f);for(var d=0,p=o,h=c;d<=p;){var m=Math.floor((d+p)/2);f.style.fontSize=m+"px",f.scrollWidth<=s&&f.scrollHeight<=u&&m<=o?d=(h=m)+1:p=m-1}document.body.removeChild(f),n.style.fontSize=h+"px"}},{key:"findVideoAudioInFrame",value:function(e,r){var t=function(){if(0<e.frameNr&&e.frames&&e.frames["frame"+e.frameNr]){var t=e.frames["frame"+e.frameNr].type;return r.layers[t]}return Object.keys(r.layers).reduce(function(t,e){return t.push.apply(t,_toConsumableArray(r.layers[e])),t},[])}(),n=!1;return function e(t){t.forEach(function(t){"video"!==t.type&&"audio"!==t.type?t.children&&t.children.length&&e(t.children):n=!0})}(t),n}},{key:"layersShouldReverse",value:function(t){return void 0===t||void 0===t.layersShouldReverse||t.layersShouldReverse}},{key:"showErrorMessage",value:function(t){var e=document.createElement("div");e.classList.add("error");var r=document.createElement("p");r.classList.add("error-text"),r.innerHTML=t,e.appendChild(r),document.body.appendChild(e)}},{key:"getTransformValue",value:function(t,e){var r=new RegExp(e+"\\(([^)]+)\\)"),n=t.match(r);return n?n[1]:null}},{key:"setTransformValue",value:function(t,e,r){var n=new RegExp(e+"\\([^)]+\\)");return t.replace(n,e+"("+r+")")}},{key:"convertToKebabCase",value:function(t){return t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})}},{key:"getUnitFromString",value:function(t){var e=t.match(/[a-zA-Z%]+/);return e&&0<e.length?e[0]:null}},{key:"getRotationDegrees",value:function(t){var e=t.match(/rotate\((-?\d+\.?\d*)deg\)/);return e?parseFloat(e[1]):0}},{key:"moveRotatedDiv",value:function(t,e){var r=e*Math.PI/180;return{x:t.x*Math.cos(r)-t.y*Math.sin(r),y:t.x*Math.sin(r)+t.y*Math.cos(r)}}},{key:"getTrueRotation",value:function(t){for(var e=0,r=t.parentElement;r.parentElement;){var n=r.style.transform;e+=this.getRotationDegrees(n),r=r.parentElement}return e}},{key:"getLanguageSpecificUserInput",value:function(r){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"EN";return void 0!==r[n]?delete(r=_objectSpread(_objectSpread({},r),r[n]))[n]:void 0!==r.EN&&delete(r=_objectSpread(_objectSpread({},r),r.EN)).EN,Object.keys(r).reduce(function(t,e){return void 0!==r[e]&&null!==r[e]&&(void 0!==r[e][n]&&null!==r[e][n]?t[e]=r[e][n]:void 0!==r[e].EN&&null!==r[e].EN&&(t[e]=r[e].EN)),t},_objectSpread({},r))}}]),t}()},function(t,e,r){r.r(e);var n={},m={};e.default=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"getLottie",value:function(t){return n[t]}},{key:"setLottie",value:function(t,e){n[t]=e}},{key:"loadLottie",value:function(n){var i=this;return new Promise(function(t,e){var r=i.getLottie(n);if(!r)return e();0===r.totalFrames?r.addEventListener("config_ready",function(){t(r)}):t(r)})}},{key:"manageLottie",value:function(d,p,h){var e=this;m&&Object.keys(m).length&&Object.keys(m).forEach(function(t){clearTimeout(m[t])}),window.lottie&&document.querySelectorAll("[class^=lottie_]").forEach(function(t){if("none"!==t.style.display){var l=t.dataset.visibility.split(","),f=t.dataset.layer;e.loadLottie(f).then(function(e){if(e){var t,r=e.frameRate,n=e.totalFrames,i=n/r,o=0===Number(l[0])?0:Number(l[0])*h,a=(t=1===Number(l[1])?h:Number(l[1])*h,Math.min(t,i)+o);if(!isNaN(o)&&!isNaN(a)){if(o<=p&&p<=a){var s=1e3*(p-o);e.goToAndStop(s,!1),d?e.play():e.pause()}else if(p<o)if(d){var u=1e3*(o-p);m[f+"_start"]=setTimeout(function(){e.goToAndStop(0,!1),e.play()},u)}else e.goToAndStop(0,!1),e.play();else a<p&&(e.goToAndStop(n,!0),e.pause());if(d){var c=1e3*(a-p);m[f+"_end"]=setTimeout(function(){var t=a-.1;e.goToAndStop(1e3*t,!1),window.lottie.goToAndStop(1e3*t,!1,f),e.pause()},c)}}}})}})}}]),t}()},function(t,e,r){r.d(e,"a",function(){return Nt});var O=r(0),i=function(){return(i=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},n=function(){function t(){this._events={}}var e=t.prototype;return e.on=function(t,e){if(Object(O.D)(t))for(var r in t)this.on(r,t[r]);else this._addEvent(t,e,{});return this},e.off=function(t,e){if(t)if(Object(O.D)(t))for(var r in t)this.off(r);else if(e){var n=this._events[t];if(n){var i=Object(O.w)(n,function(t){return t.listener===e});-1<i&&n.splice(i,1)}}else this._events[t]=[];else this._events={};return this},e.once=function(e,t){var r=this;return t&&this._addEvent(e,t,{once:!0}),new Promise(function(t){r._addEvent(e,t,{once:!0})})},e.emit=function(e,r){var n=this;void 0===r&&(r={});var t=this._events[e];if(!e||!t)return!0;var i=!1;return r.eventType=e,r.stop=function(){i=!0},r.currentTarget=this,function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}(t).forEach(function(t){t.listener(r),t.once&&n.off(e,t.listener)}),!i},e.trigger=function(t,e){return void 0===e&&(e={}),this.emit(t,e)},e._addEvent=function(t,e,r){var n=this._events;n[t]=n[t]||[],n[t].push(i({listener:e},r))},t}();function o(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function a(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(o(arguments[e]));return t}var s=function(t){return void 0===t},u=function(){function t(t,e){var r,n;if(this._canceled=!1,e)try{for(var i=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(e)),o=i.next();!o.done;o=i.next()){var a=o.value;this[a]=e[a]}}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}this.eventType=t}var e=t.prototype;return e.stop=function(){this._canceled=!0},e.isCanceled=function(){return this._canceled},t}(),c=function(){function t(){this._eventHandler={}}var e=t.prototype;return e.trigger=function(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];var n=e instanceof u?e.eventType:e,i=a(this._eventHandler[n]||[]);return i.length<=0||(e instanceof u?(e.currentTarget=this,i.forEach(function(t){t(e)})):i.forEach(function(t){t.apply(void 0,a(r))})),this},e.once=function(n,i){var o=this;if("object"==_typeof(n)&&s(i)){var t=n;for(var e in t)this.once(e,t[e]);return this}if("string"==typeof n&&"function"==typeof i){this.on(n,function t(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];i.apply(void 0,a(e)),o.off(n,t)})}return this},e.hasOn=function(t){return!!this._eventHandler[t]},e.on=function(t,e){if("object"==_typeof(t)&&s(e)){var r=t;for(var n in r)this.on(n,r[n]);return this}if("string"==typeof t&&"function"==typeof e){var i=this._eventHandler[t];s(i)&&(this._eventHandler[t]=[],i=this._eventHandler[t]),i.push(e)}return this},e.off=function(t,e){if(s(t))return this._eventHandler={},this;if(s(e)){if("string"==typeof t)return delete this._eventHandler[t],this;var r=t;for(var n in r)this.off(n,r[n]);return this}var i=this._eventHandler[t];if(i)for(var o=i.length,a=0;a<o;++a)if(i[a]===e){i.splice(a,1),o<=1&&delete this._eventHandler[t];break}return this},t.VERSION="3.0.5",t}();function l(t){return Object.keys(t)}var f=function(t,e){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function d(){Object.__CFCS_DETECTED_DEPENDENCIES__=Object.__CFCS_DETECTED_DEPENDENCIES__||{};var t=Object.__CFCS_DETECTED_DEPENDENCIES__;return t[1]=t[1]||[],t[1]}var p=function(){function t(t){this._emitter=new c,this._current=t}var e=t.prototype;return Object.defineProperty(e,"current",{get:function(){var t,e=(t=d())[t.length-1];return null==e||e.push(this),this._current},set:function(t){this._setCurrent(t)},enumerable:!1,configurable:!0}),e.subscribe=function(t){return this.current,this._emitter.on("update",t),this},e.unsubscribe=function(t){return this._emitter.off("update",t),this},e._setCurrent=function(t){var e=this._current,r=t!==e;this._current=t,r&&this._emitter.trigger("update",t,e)},e.toString=function(){return"".concat(this.current)},e.valueOf=function(){return this.current},t}(),h=function(r){function t(t){var e=r.call(this)||this;return e._computedCallback=t,e._registered=[],e._onCheckUpdate=function(){e._setCurrent(e.current)},e._current=e.current,e}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(t,r);var e=t.prototype;return Object.defineProperty(e,"current",{get:function(){var e,t,r,n,i=this;e=this,t=d(),n={host:e,observers:r=[],push:function(t){e!==t&&-1===r.indexOf(t)&&r.push(t)}},t.push(n);var o=this._computedCallback(),a=d().pop();return this._registered.forEach(function(t){t.unsubscribe(i._onCheckUpdate)}),a.observers.forEach(function(t){t.subscribe(i._onCheckUpdate)}),this._registered=a.observers,o},enumerable:!1,configurable:!0}),t}(p);function m(t,e,r){void 0===r&&(r=e);var n={configurable:!0,get:function(){return S(this,r).current},set:function(t){S(this,r,t).current=t}};Object.defineProperty(t,e,n),r!==e&&Object.defineProperty(t,r,{configurable:!0,get:function(){return S(this,r).current}})}function y(t,e){var r,n="function"==typeof t?t():t,i={};return _(i),l(n).forEach(function(t){var e=n[t];j(e)?E(i,t,e):E(i,t,v(e)),function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return 1<r.length?m(r[0],r[1]):function(t,e){return m(t,e,r[0])}}(t)(i,t)}),(r=i).subscribe=function(t,e){this[t],S(this,t).subscribe(e)},r.unsubscribe=function(t,e){var r=this;t?t in this&&S(this,t).unsubscribe(e):l(b(this)).forEach(function(t){r.unsubscribe(t)})},i}function v(t){return new p(t)}function g(t){return new h(t)}function _(t){var e={};return Object.defineProperty(t,"__observers__",{get:function(){return e}}),e}function b(e,t){var r,n;e.__observers__||_(e);var i=e.__observers__;if(!t){var o=null===(n=null===(r=null==e?void 0:e.constructor)||void 0===r?void 0:r.prototype)||void 0===n?void 0:n.__computed__;o&&o.forEach(function(t){!(t in i)&&t in e&&e[t]})}return i}function S(t,e,r){var n=b(t);return n[e]||(n[e]=v(r)),n[e]}function E(t,e,r){b(t)[e]=r}function j(t){return t&&"object"==_typeof(t)&&"current"in t&&"subscribe"in t&&"unsubscribe"in t}function w(t,e,r){if(r||2===arguments.length)for(var n,i=0,o=e.length;i<o;i++)!n&&i in e||(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return t.concat(n||Array.prototype.slice.call(e))}var k=function(){function a(t){this.separator=t,this.orderMap={}}return a.prototype.getFullName=function(t){return t.join(this.separator)},a.prototype.get=function(t){return this.orderMap[this.getFullName(t)]},a.prototype.hasName=function(t){var e=t.length;if(!e)return!1;var r=t[e-1],n=this.get(t.slice(0,e-1));return!!n&&0<=n.indexOf(r)},a.prototype.gets=function(t,e){void 0===e&&(e=!0);var a=[],r=this;return function n(i,o){var t=r.get(i);if(t)return t.forEach(function(t){var e=w(w([],o,!0),[t],!1),r=n(w(w([],i,!0),[t],!1),e);r&&r.length||a.push(w(w([],o,!0),[t],!1))}),t}(t,e?t:[]),a},a.prototype.set=function(r,t){var n=this;return r.forEach(function(t,e){n.addName(r.slice(0,e),t)}),this.orderMap[this.getFullName(r)]=t},a.prototype.add=function(t){var e=t.length;return e?this.addName(t.slice(0,-1),t[e-1]):[]},a.prototype.addName=function(t,e){var r=this.get(t)||this.set(t,[]);return-1===r.indexOf(e)&&r.push(e),r},a.prototype.findIndex=function(t,e){var r=this.orderMap[this.getFullName(t)];return r?r.indexOf(e):-1},a.prototype.remove=function(t){var e=this.getFullName(t),r=this.orderMap;for(var n in r)0===n.indexOf(e)&&delete r[n];var i=t.length;if(i){var o=t.slice(0,-1),a=t[i-1];this.splice(o,this.findIndex(o,a),1)}return this},a.prototype.filter=function(t,e,r){void 0===r&&(r=!0);var n=this.gets(t,r).filter(e),i=new a(this.separator),o=r?[]:t;return n.forEach(function(t){i.add(w(w([],o,!0),t,!0))}),i},a.prototype.splice=function(t,e,r){for(var n=[],i=3;i<arguments.length;i++)n[i-3]=arguments[i];var o=this.get(t)||this.set(t,[]);return o.splice.apply(o,w([e,r],n,!1)),this},a.prototype.clear=function(){this.orderMap={}},a.prototype.setObject=function(t){var e=this.orderMap;for(var r in t)e[r]=t[r].slice()},a.prototype.getObject=function(){var t={},e=this.orderMap;for(var r in e)t[r]=e[r].slice();return t},a.prototype.clone=function(){var t=new a(this.separator);return t.setObject(t.orderMap),t},a}();var T=function(h){var m="rCS"+function(t){for(var e=5381,r=t.length;r;)e=33*e^t.charCodeAt(--r);return e>>>0}(h).toString(36);return{className:m,inject:function(t,e){void 0===e&&(e={});var r,n,i,o,a,s,u,c,l,f=function(t){if(t&&t.getRootNode){var e=t.getRootNode();if(11===e.nodeType)return e}}(t),d=(f||t.ownerDocument||document).querySelector('style[data-styled-id="'.concat(m,'"]'));if(d){var p=parseFloat(d.getAttribute("data-styled-count"))||0;d.setAttribute("data-styled-count","".concat(p+1))}else r=m,n=h,i=e,o=t,a=f,c=Object(O.y)(o),(l=c.createElement("style")).setAttribute("type","text/css"),l.setAttribute("data-styled-id",r),l.setAttribute("data-styled-count","1"),i.nonce&&l.setAttribute("nonce",i.nonce),l.innerHTML=(s=r,u=n,i.original?u:u.replace(/([^};{\s}][^};{]*|^\s*){/gm,function(t,e){var r=e.trim();return(r?Object(O.L)(r):[""]).map(function(t){var e=t.trim();return 0===e.indexOf("@")?e:-1<e.indexOf(":global")?e.replace(/\:global/g,""):-1<e.indexOf(":host")?"".concat(e.replace(/\:host/g,".".concat(s))):e?".".concat(s," ").concat(e):".".concat(s)}).join(", ")+" {"})),(a||c.head||c.body).appendChild(l),d=l;return{destroy:function(){var t,e=parseFloat(d.getAttribute("data-styled-count"))||0;e<=1?(d.remove?d.remove():null===(t=d.parentNode)||void 0===t||t.removeChild(d),d=null):d.setAttribute("data-styled-count","".concat(e-1))}}}}},C=function(t,e){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function D(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}C(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var x=function(){return(x=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function M(t,e,r){if(r||2===arguments.length)for(var n,i=0,o=e.length;i<o;i++)!n&&i in e||(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return t.concat(n||Array.prototype.slice.call(e))}function I(t,e,r){var n=1-r;return r*r*r+3*r*r*n*e+3*r*n*n*t}function A(r,n,i,o){var t=function(t){var e=function(t,e,r){for(var n=r,i=1;.001<Math.abs(i);){if(i=I(t,e,n)-r,Math.abs(i)<.001)return n;n-=i/2}return n}(r,i,Object(O.q)(t,0,1));return I(n,o,e)};return t.easingName="cubic-bezier(".concat(r,",").concat(n,",").concat(i,",").concat(o,")"),t}function P(r,n){var t=function(t){var e=1/r;return 1<=t?1:("start"===n?e:0)+Math.floor(t/e)*e};return t.easingName="steps(".concat(r,", ").concat(n,")"),t}var F,L=P(1,"start"),N=P(1,"end"),R=A(0,0,1,1),W=A(.25,.1,.25,1),B=A(.42,0,1,1),U=A(0,0,.58,1),z=A(.42,0,.58,1),K="animation-timing-function",q={transform:{},filter:{},attribute:{},html:!0},H={easing:[K]},V=((F={})[K]=!0,F.contents=!0,F.html=!0,F),J="delay",$="selector",G={linear:R,ease:W,"ease-in":B,"ease-out":U,"ease-in-out":z,"step-start":L,"step-end":N},X=["duration","fillMode","direction","iterationCount",J,"easing","playSpeed"],Q=function(){function a(t,e){this.prefix="",this.suffix="",this.model="",this.type="",this.separator=",",e&&this.setOptions(e),this.value=Object(O.E)(t)?t.split(this.separator):t}return a.prototype.setOptions=function(t){for(var e in t)this[e]=t[e];return this},a.prototype.size=function(){return this.value.length},a.prototype.get=function(t){return this.value[t]},a.prototype.set=function(t,e){return this.value[t]=e,this},a.prototype.clone=function(){var t=this,e=t.separator,r=t.prefix,n=t.suffix,i=t.model,o=t.type;return new a(this.value.map(function(t){return vt(t)?t.clone():t}),{separator:e,prefix:r,suffix:n,model:i,type:o})},a.prototype.toValue=function(){return this.prefix+this.join()+this.suffix},a.prototype.join=function(){return this.value.map(function(t){return vt(t)?t.toValue():t}).join(this.separator)},a.prototype.forEach=function(t){return this.value.forEach(t),this},a}();function Y(t){var e=O.l;return 3===t.length&&(t[3]=1),new Q(t,{model:e,separator:",",type:"color",prefix:"".concat(e,"("),suffix:")"})}function Z(t,e){return new Q(t,{type:"array",separator:e})}function tt(t,e){if(!Object(O.E)(t))return Object(O.B)(t)?Z(t,","):t;var r,n,i=Object(O.L)(t);return 1<i.length?Z(i.map(function(t){return tt(t)}),","):1<(i=Object(O.M)(t)).length?Z(i.map(function(t){return tt(t)})," "):(i=/^(['"])([^'"]*)(['"])$/g.exec(t))&&i[1]===i[3]?new Q([tt(i[2])],{prefix:i[1],suffix:i[1]}):-1!==t.indexOf("(")?function(t){var e=Object(O.K)(t),r=e.prefix,n=e.value,i=e.suffix;if(void 0===n)return t;if(-1<O.d.indexOf(r))return Y(Object(O.P)(t));var o=tt(n,r),a=[n],s=",",u="".concat(r,"("),c=")".concat(i);return vt(o)&&(s=o.separator,a=o.value,u+=o.prefix,c=o.suffix+c),new Q(a,{separator:s,model:r,prefix:u,suffix:c})}(t):"#"===t.charAt(0)&&"url"!==e?(r=t,(n=Object(O.P)(r))?Y(n):r):t}function et(t){var e=_typeof(t);if(e===O.j){if(Object(O.B)(t))return O.c;if(vt(t))return O.k}else if(e===O.m||e===O.i)return"value";return e}function rt(t){return Object(O.D)(t)&&t.constructor===Object}function nt(t,e){var r=[];if(rt(t))for(var n in t)e.push(n),r=r.concat(nt(t[n],e)),e.pop();else r.push(e.slice());return r}function it(t){return Math.round(1e6*t)/1e6}function ot(t,e,r){void 0===r&&(r=t.length);for(var n=e,i=0;i<r;++i){if(!Object(O.D)(n)||null==n)return;n=n[t[i]]}return n}function at(t,e,r){var n=e.length,i=t;if(0===n)return!1;for(var o=0;o<n;++o){if(!0===i)return!1;if(!(i=i[e[o]])||!r&&!0===i)return!1}return!0}function st(t,e){return at(q,t,e)}function ut(t){return at(V,t,!0)}function ct(t,e){t.state.playCSS=e}function lt(t){return t.state.playCSS&&t.isPaused()}function ft(t){return!t.isEnded()&&t.state.playCSS}function dt(t){for(;;){var e="".concat(Math.floor(1e7*Math.random()));if(!O.g||!t)return e;if(!Object(O.a)('[data-scene-id="'.concat(e,'"]')))return e}}function pt(t){return t.getId()||t.setId(dt(!1)).getId()}function ht(t){return"".concat(t).match(/[0-9a-zA-Z]+/g).join("")}function mt(t,e,r,n){if(void 0===n&&(n={}),O.b&&"running"!==t.getPlayState()){var i=r||"startAnimation";if(lt(t))t.addPlayClass(!0,i,n);else{t.isEnded()&&t.setTime(0),e&&t.exportCSS({className:i});var o=t.addPlayClass(!1,i,n);if(!o)return;!function(n,t){var i=n.state,o=n.getDuration(),a=!o||!isFinite(o),e=function(){ct(n,!1),n.finish()},r=function(){n.trigger("play"),Object(O.p)(t,"animationcancel",e),Object(O.p)(t,"animationend",e),Object(O.p)(t,"animationiteration",s)};n.once("ended",function(){Object(O.H)(t,"animationcancel",e),Object(O.H)(t,"animationend",e),Object(O.H)(t,"animationiteration",s),Object(O.H)(t,"animationstart",r)});var s=function(t){var e=t.elapsedTime,r=a?0:e/o;i.currentTime=e,n.setIteration(r)};Object(O.p)(t,"animationstart",r)}(t,o),ct(t,!0)}t.setPlayState("running")}}function yt(t){var e;if(Object(O.E)(t))if(t in G)e=G[t];else{var r=tt(t);if(Object(O.E)(r))return 0;if("cubic-bezier"===r.model)e=A((t=r.value.map(function(t){return parseFloat(t)}))[0],t[1],t[2],t[3]);else{if("steps"!==r.model)return 0;e=P(parseFloat(r.value[0]),r.value[1])}}else e=Object(O.B)(t)?A(t[0],t[1],t[2],t[3]):t;return e}function vt(t){if(!t)return!1;var e=t.constructor.prototype;return!!(e.clone&&e.get&&e.setOptions)}function gt(t){return t&&!!t.constructor.prototype.getItem}function _t(t){return t&&!!t.constructor.prototype.getFrame}function bt(t){return t&&!!t.constructor.prototype.toCSSText}function St(t,e,r){return"reverse"===r||("infinite"!==e&&t===e&&e%1==0?r===(1<=t%2?"alternate-reverse":"alternate"):r===(1<=t%2?"alternate":"alternate-reverse"))}var Ot=["id","iterationCount",J,"fillMode","direction","playSpeed","duration","playSpeed","iterationTime","playState"],Et=M(M([],Ot,!0),["easing","easingName"],!1),jt=function(r){function t(t){var e=r.call(this)||this;return e.timerId=0,e.state=y({id:"",easing:0,easingName:"linear",iterationCount:1,delay:0,fillMode:"forwards",direction:"normal",playSpeed:1,currentTime:0,iterationTime:-1,iteration:0,tickTime:0,prevTime:0,playState:"paused",duration:0}),e.setOptions(t),e}var e,n;return D(t,r),t.prototype.setEasing=function(t){var e=yt(t),r=e&&e.easingName||"linear",n=this.state;return n.easing=e,n.easingName=r,this},t.prototype.setOptions=function(t){for(var e in void 0===t&&(t={}),t){var r=t[e];"easing"!==e?"duration"!==e?-1<X.indexOf(e)&&(this.state[e]=r):r&&this.setDuration(r):this.setEasing(r)}return this},t.prototype.getTotalDuration=function(){return this.getActiveDuration(!0)},t.prototype.getActiveDuration=function(t){var e=this.state,r=e.iterationCount;return"infinite"===r?1/0:(t?e[J]:0)+this.getDuration()*r},t.prototype.isEnded=function(){return 0===this.state.tickTime&&"paused"===this.state.playState||!(this.getTime()<this.getActiveDuration())},t.prototype.isPaused=function(){return"paused"===this.state.playState},t.prototype.start=function(t){void 0===t&&(t=this.state[J]);var e=this.state;return e.playState="running",e.tickTime>=t&&(this.trigger("play"),!0)},t.prototype.play=function(e){var r=this,n=this.state,t=n[J],i=this.getTime();return n.playState="running",this.isEnded()&&(0===i||i>=this.getActiveDuration())&&this.setTime(-t,!0),this.timerId=Object(O.I)(function(t){n.prevTime=t,r.tick(t,e)}),this.start(),this},t.prototype.pause=function(){var t=this.state;return"paused"!==t.playState&&(t.playState="paused",this.trigger("paused")),Object(O.s)(this.timerId),this},t.prototype.finish=function(){return this.setTime(0),this.state.tickTime=0,this.end(),this},t.prototype.end=function(){return this.pause(),this.trigger("ended"),this},t.prototype.setTime=function(t,e,r,n){var i=this.getActiveDuration(),o=this.state,a=o.tickTime,s=o[J],u=e?t:this.getUnitTime(t);o.tickTime=s+u,u<0?u=0:i<u&&(u=i),o.currentTime=u,this.calculate();var c=e&&!r,l=o.tickTime,f=Object(O.E)(t)?parseFloat(t):t;return c&&a<s&&0<=f&&this.start(0),null==n||n(),c&&(l<a||this.isEnded())?this.end():this.isDelay()||this.trigger("timeupdate",{currentTime:u,time:this.getIterationTime(),iterationCount:o.iteration}),this},t.prototype.getTime=function(){return this.state.currentTime},t.prototype.getUnitTime=function(t){if(Object(O.E)(t)){var e=this.getDuration()||100;if("from"===t)return 0;if("to"===t)return e;var r=Object(O.O)(t),n=r.unit,i=r.value;return"%"===n?(!this.getDuration()&&this.setDuration(e),it(parseFloat(t)/100*e)):">"===n?i+1e-6:i}return it(t)},t.prototype.isDelay=function(){var t=this.state,e=t[J],r=t.tickTime;return 0<e&&r<e},t.prototype.setIteration=function(t){var e=this.state,r=Math.floor(t),n="infinite"===e.iterationCount?1/0:e.iterationCount;return e.iteration<r&&r<n&&this.trigger("iteration",{currentTime:e.currentTime,iterationCount:r}),e.iteration=t,this},t.prototype.calculate=function(){var t=this.state,e=t.iterationCount,r=t.fillMode,n=t.direction,i=this.getDuration(),o=this.getTime(),a=0===i?0:o/i,s=i?o%i:0;if(!i)return this.setIterationTime(0),this;this.setIteration(a);var u=St(a,e,n),c=isFinite(i);return c&&u&&(s=i-s),c&&"infinite"!==e&&e<=a&&(s=i*("both"===r||"forwards"===r?e%1||1:0),u&&(s=i-s)),this.setIterationTime(s),this},t.prototype.tick=function(t,e){var r=this;if(!this.isPaused()){var n=this.state,i=n.playSpeed,o=n.prevTime,a=n[J],s=n.tickTime+Math.min(1e3,t-o)/1e3*i;n.prevTime=t,e&&s<=e?(this.setTime(e-a,!0),this.pause()):this.setTime(s-a,!0),"paused"!==n.playState&&(this.timerId=Object(O.I)(function(t){r.tick(t,e)}))}},function(t,e,r,n){var i,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;0<=s;s--)(i=t[s])&&(a=(o<3?i(a):3<o?i(e,r,a):i(e,r))||a);return 3<o&&a&&Object.defineProperty(e,r,a),a}([(e=Et,n=Ot,"state",function(t){var r=t.prototype;e.forEach(function(t){r[Object(O.r)("get ".concat(t))]=function(){return this.state[t]}}),n.forEach(function(e){r[Object(O.r)("set ".concat(e))]=function(t){return this.state[e]=t,this}})})],t)}(n);function wt(e,t){if(void 0===t&&(t=[]),!e)return"";var r=[],n=Object(O.z)(e);return Object(O.J)(n,t),n.forEach(function(t){r.push("".concat(t.replace(/\d$/g,""),"(").concat(e[t],")"))}),r.join(" ")}function kt(t,e){return void 0===e&&(e=!1),Tt({},t,e)}function Tt(t,e,r){for(var n in void 0===r&&(r=!1),e){var i=e[n],o=et(i);o===O.k?t[n]=r?i.toValue():i.clone():o===O.f?t[n]=r?Dt([n],i):i:o===O.c?t[n]=i.slice():o===O.j?Object(O.D)(t[n])&&!vt(t[n])?Tt(t[n],i,r):t[n]=kt(i,r):t[n]=e[n]}return t}function Ct(t){return t[0]in H?H[t[0]]:t}function Dt(t,e){var r=et(e);if(r===O.k)return e.toValue();if(r===O.f){if(t[0]!==K)return Dt(t,e())}else if(r===O.j)return kt(e,!0);return e}var xt=function(r){function e(t){void 0===t&&(t={});var e=r.call(this)||this;return e.properties={},e.orderMap=new k("_///_"),e.properties={},e.set(t),e}return D(e,r),e.prototype.get=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=this.raw.apply(this,t);return Dt(Ct(t),r)},e.prototype.getOrders=function(t){return this.orderMap.get(t)},e.prototype.setOrders=function(t,e){var r=this.orderMap.set(t,e);return this._update(),r},e.prototype.getOrderObject=function(){return this.orderMap.getObject()},e.prototype.setOrderObject=function(t){this.orderMap.setObject(t),this._update()},e.prototype.getKeys=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=this.raw.apply(this,t),n=et(r)===O.j?Object(O.z)(r):[];return Object(O.J)(n,this.orderMap.get(t)),n},e.prototype.gets=function(){for(var e=this,r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var n=this.get.apply(this,r);return this.getKeys.apply(this,r).map(function(t){return{key:t,value:n[t],children:e.gets.apply(e,M(M([],r,!1),[t],!1))}})},e.prototype.raw=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ot(Ct(t),this.properties)},e.prototype.remove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Ct(t),n=r.length;if(!n)return this;this.orderMap.remove(r);var i=ot(r,this.properties,n-1);return Object(O.D)(i)&&delete i[r[n-1]],this._update(),this},e.prototype.set=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._set.apply(this,t),this._update(),this},e.prototype.getNames=function(){return nt(this.properties,[])},e.prototype.has=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Ct(t),n=r.length;return!!n&&!Object(O.F)(ot(r,this.properties,n))},e.prototype.clone=function(){var t=new e;return t.setOrderObject(this.orderMap.orderMap),t.merge(this)},e.prototype.merge=function(t){var e=this.properties,r=t.properties;return r&&Tt(e,r),this},e.prototype.toCSSObject=function(t){var e=this.get(),r={};for(var n in e)if(!st([n],!0)){var i=e[n];n===K&&(n=K.replace("animation",O.b),i=(Object(O.E)(i)?i:i.easingName)||"initial"),t&&(n=Object(O.r)(n.replace(/^[-]+/g,""))),r[n]=i}var o=wt(e.transform,this.orderMap.get(["transform"])),a=wt(e.filter,this.orderMap.get([O.e]));return O.n&&o&&(r[O.n]=o),O.e&&a&&(r[O.e]=a),r},e.prototype.toCSSText=function(){var e=this.toCSSObject(),r=[],t=Object(O.z)(e);return Object(O.J)(t,this.orderMap.get([])),t.forEach(function(t){r.push("".concat(Object(O.t)(t,"-"),":").concat(e[t],";"))}),r.join("")},e.prototype.toCSS=function(){var e=this.toCSSObject(),r=[],t=Object(O.z)(e);return Object(O.J)(t,this.orderMap.get([])),t.forEach(function(t){r.push("".concat(t,":").concat(e[t],";"))}),r.join("")},e.prototype.clear=function(){return this.properties={},this.orderMap.clear(),this},e.prototype._set=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=this,n=t.length,i=t.slice(0,-1),o=t[n-1],a=i[0];if(1===n&&bt(o))r.merge(o);else if(a in H)r._setByPath(H[a],o);else if(2===n&&Object(O.B)(a))r._setByPath(a,o);else if(vt(o))st(i)?r._set.apply(r,M(M([],i,!1),[function e(t,r){void 0===r&&(r={});var n=t.model;if(n){t.setOptions({model:"",suffix:"",prefix:""});var i=1<t.size()?t:t.get(0);r[n]=i}else t.forEach(function(t){e(t,r)});return r}(o)],!1)):r._setByPath(i,o);else if(Object(O.B)(o))r._setByPath(i,o);else if(Object(O.D)(o))for(var s in!r.has.apply(r,i)&&st(i)&&r._setByPath(i,{}),o)r._set.apply(r,M(M([],i,!1),[s,o[s]],!1));else if(Object(O.E)(o)){if(st(i,!0)){if(ut(i)||!st(i))this._setByPath(i,o);else{var u=tt(o);Object(O.D)(u)&&r._set.apply(r,M(M([],i,!1),[u],!1))}return this}var c=function(t){for(var e=Object(O.N)(t,";"),r={},n=e.length,i=n,o=0;o<n;++o){var a=Object(O.N)(e[o],":");a.length<2||!a[1]?--i:r[a[0].trim()]=tt(a[1].trim())}return{styles:r,length:i}}(o),l=c.styles,f=c.length;for(var d in l)r._set.apply(r,M(M([],i,!1),[d,l[d]],!1));if(f)return this;r._setByPath(i,o)}else r._setByPath(i,o)},e.prototype._setByPath=function(t,e){for(var r=this.properties,n=t.length,i=0;i<n-1;++i){var o=t[i];!(o in r)&&(r[o]={}),r=r[o]}if(n){var a=t[n-1];this.orderMap.add(t),r[a]=1===n&&a===K?yt(e):Object(O.E)(e)&&!ut(t)?tt(e,a):e}},e.prototype._update=function(){this.emit("update")},e}(n);function Mt(t,r,n,i){var o=r.length;return t.map(function(t,e){return o<=e?t:It(t,r[e],n,i)})}function It(t,e,r,n){if(0===n)return e;if(0===r||r+n===0)return t;var i=et(t),o=et(e),a=i===O.f,s=o===O.f;if(a||s)return function(){return It(a?tt(t()):t,s?tt(e()):e,r,n)};if(i!==o)return t;if(i===O.k)return function(t,e,r,n){var i=t.type;if("color"===i)return function(t,e,r,n){var i=t.value,o=e.value,a=t.model;if(a!==e.model)return It(t.toValue(),e.toValue(),r,n);3===i.length&&(i[3]=1),3===o.length&&(o[3]=1);for(var s=Mt(i,o,r,n),u=a,c=0;c<3;++c)s[c]=parseInt(s[c],10);return new Q(s,{type:"color",model:u,prefix:"".concat(u,"("),suffix:")"})}(t,e,r,n);var o=Mt(t.value,e.value,r,n);return new Q(o,{type:i,separator:t.separator||e.separator,prefix:t.prefix||e.prefix,suffix:t.suffix||e.suffix,model:t.model||e.model})}(t,e,r,n);if(i===O.c)return Mt(t,e,r,n);if("value"!==i)return t;var u,c=Object(O.O)("".concat(t)),l=Object(O.O)("".concat(e));if(isNaN(c.value)||isNaN(l.value))return t;u=Object(O.u)(c.value,l.value,r,n);var f=c.prefix||l.prefix,d=c.unit||l.unit;return f||d?f+u+d:u}function At(t,e){for(var r=t.length,n=0;n<r;++n){if(t[n]===e)return[n,n];if(t[n]>e)return[0<n?n-1:0,n]}return[r-1,r-1]}function Pt(t){var e=[];for(var r in t)e.push("".concat(O.b,"-").concat(Object(O.t)(r),":").concat(t[r],";"));return e.join("")}function Ft(t,e,r){var n=t[t.length-1];(!n||n[0]!==e||n[1]!==r)&&t.push([it(e),it(r)])}var Lt=function(a){function n(t,e){var r=a.call(this)||this;return r.times=[],r.items={},r.nameMap=new k("_///_"),r.elements=[],r.needUpdate=!0,r.registeredElement=!1,r.load(t,e),r}return D(n,a),n.prototype.getDuration=function(){var t=this.times,e=t.length;return(0===e?0:t[e-1])||this.state.duration},n.prototype.size=function(){return this.times.length},n.prototype.setDuration=function(t){if(!t)return this;var e=this.getDuration();if(0<e){var r=t/e,n=this.times,i=this.items,o={};this.times=n.map(function(t){var e=it(t*r);return o[e]=i[t],e}),this.items=o}else this.newFrame(t);return this},n.prototype.setId=function(t){var e=this.state,r=this.elements,n=r.length;if(e.id=t||dt(!!n),n&&!e[$]){var i=ht(this.getId());e[$]="[".concat("data-scene-id",'="').concat(i,'"]'),r.forEach(function(t){t.setAttribute("data-scene-id",i)})}return this},n.prototype.set=function(e){for(var c=this,l=[],t=1;t<arguments.length;t++)l[t-1]=arguments[t];if(_t(e))return this.set(0,e);if(Object(O.B)(e))for(var r=e.length,n=0;n<r;++n){var i=1===r?0:this.getUnitTime("".concat(n/(r-1)*100,"%"));this.set(i,e[n])}else if(Object(O.D)(e)){var o=function(t){var a=e[t];Object(O.L)(t).forEach(function(t){var e=c.getUnitTime(t);isNaN(e)?nt(a,[t]).forEach(function(t){for(var e,r=ot(t.slice(1),a),n=Object(O.B)(r)?r:[ot(t,c.target),r],i=n.length,o=0;o<i;++o)(e=c.newFrame("".concat(o/(i-1)*100,"%"))).set.apply(e,M(M([],t,!1),[n[o]],!1))}):c.set(e,a)})};for(var i in e)o(i)}else if(!Object(O.F)(e)){var f=l[0];Object(O.L)(e+"").forEach(function(t){var e=c.getUnitTime(t);if(_t(f)){var r=f.getDelay(),n=f.toObject(!c.hasFrame(e+r)),i=f.getDuration(),o=-1<f.getDirection().indexOf("reverse");for(var a in n){var s=o?i-parseFloat(a):parseFloat(a);c.set(e+s,n[a])}}else if(1===l.length&&Object(O.B)(f))f.forEach(function(t){c.set(e,t)});else{var u=c.newFrame(e);u.set.apply(u,l)}})}return this.needUpdate=!0,this},n.prototype.get=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=this.getFrame(t);return n&&n.get.apply(n,e)},n.prototype.getOrders=function(t){return this.needUpdate&&this.update(),this.nameMap.get(t)},n.prototype.setOrders=function(t,e){this.needUpdate&&this.update();var r=this.nameMap.set(t,e);return this.updateFrameOrders(),r},n.prototype.getOrderObject=function(){return this.nameMap.getObject()},n.prototype.setOrderObject=function(t){this.nameMap.setObject(t),this.updateFrameOrders()},n.prototype.remove=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(e.length){var n=this.getFrame(t);n&&n.remove.apply(n,e)}else this.removeFrame(t);return this.needUpdate=!0,this},n.prototype.append=function(t){return _t(t)?this.set(this.getDuration(),t):this.append(new n(t)),this},n.prototype.prepend=function(t){if(_t(t)){var e=t.getDuration()+t.getDelay(),r=this.getFrame(0);this.removeFrame(0),this.unshift(e),this.set(0,t),this.set(e+1e-6,r)}else this.prepend(new n(t));return this},n.prototype.unshift=function(r){var t=this.times,n=this.items,i={};return this.times=t.map(function(t){var e=it(r+t);return i[e]=n[t],e}),this.items=i,this},n.prototype.toObject=function(r){void 0===r&&(r=!0);var n={},i=this.getDelay();return this.forEach(function(t,e){n[(e||r?0:1e-6)+i+e]=t.clone()}),n},n.prototype.setSelector=function(t){return this.setElement(t),this},n.prototype.getElements=function(){return this.elements},n.prototype.setElements=function(t){return this.setElement(t)},n.prototype.setElement=function(t){!0!==t&&this.registeredElement!==t&&(this.registeredElement=t);var e,a=this.state,r=this.registeredElement,n=t,s=[];if(Object(O.C)(r)&&(n=r(this.getId(),0)),!n)return this;if(!0===n||Object(O.E)(n)){var i=Object(O.E)(a[$])&&a[$]||"".concat(a.id),o=!0===n?i:n,u=/([\s\S]+)(:+[a-zA-Z]+)$/g.exec(o);try{s=Object(O.Q)(Object(O.a)(u?u[1]:o,!0))}catch(t){s=[]}a[$]=o}else if("length"in(e=n)&&0<=e.length)s=Object(O.Q)(n);else if(n instanceof Element)s=[n];else if("current"in n||"value"in n){var c=n.current||n.value;s=c?[c]:[]}return s.length&&(this.elements=s,this.setId(this.getId()),this.target=s[0].style,this.targetFunc=function(t){var r=t.get("attribute");if(r){var e=function(e){s.forEach(function(t){t.setAttribute(e,r[e])})};for(var n in r)e(n)}if(t.has("html")){var i=t.get("html");s.forEach(function(t){t.innerHTML=i})}var o=t.toCSSText();if(a.cssText!==o)return a.cssText=o,s.forEach(function(t){t.style.cssText+=o}),t}),this},n.prototype.setTarget=function(n){return this.target=n,this.targetFunc=function(t){var e=t.get();for(var r in e)n[r]=e[r]},this},n.prototype.setCSS=function(t,e){return void 0===e&&(e=[]),this.set(t,Object(O.x)(this.elements,e)),this},n.prototype.setTime=function(t,e,r,i){var o=this;return a.prototype.setTime.call(this,t,e,r,function(){var t=o.getIterationTime(),e=o.getEasing()||i,r=o.getNowFrame(t,e),n=o.getTime();o.temp=r,o.trigger("animate",{frame:r,currentTime:n,time:t}),o.targetFunc&&o.targetFunc(r)}),this},n.prototype.update=function(){var e=this.nameMap,r={};this.forEach(function(t){!function t(e,r){for(var n in r)rt(r[n])?(Object(O.D)(e[n])||(e[n]={}),t(e[n],r[n])):e[n]=!0;return e}(r,t.properties)});var o=new k("_///_");return function r(n,i){var t=Object(O.z)(n);Object(O.J)(t,e.get(i)),o.set(i,t),t.forEach(function(t){var e=n[t];Object(O.D)(e)&&r(e,M(M([],i,!0),[t],!1))})}(r,[]),this.nameMap=o,this.forEach(function(t){t.setOrderObject(o.orderMap)}),this.needUpdate=!1,this},n.prototype.newFrame=function(t){var e=this.getFrame(t);return e||(e=new xt,this.setFrame(t,e),e)},n.prototype.setFrame=function(t,e){var r=this.getUnitTime(t);return this.items[r]=e,function(t,e){for(var r=t.length,n=0;n<r;++n)if(e<t[n])return t.splice(n,0,e);t[r]=e}(this.times,r),this.needUpdate=!0,this},n.prototype.getFrame=function(t){return this.items[this.getUnitTime(t)]},n.prototype.removeFrame=function(t){var e=this.getUnitTime(t),r=this.items,n=this.times.indexOf(e);return delete r[e],-1<n&&this.times.splice(n,1),this.needUpdate=!0,this},n.prototype.hasFrame=function(t){return this.getUnitTime(t)in this.items},n.prototype.hasName=function(t){return this.needUpdate&&this.update(),!!this.nameMap.hasName(t)},n.prototype.mergeFrame=function(t,e){return e&&this.newFrame(t).merge(e),this},n.prototype.getNowFrame=function(r,t,n){var i=this;this.needUpdate&&this.update();var o=new xt,e=At(this.times,r),a=e[0],s=e[1],u=this.getEasing()||t,c=this.nameMap;if(this.hasName([K])){var l=this.getNowValue(r,[K],a,s,!1,0,!0);Object(O.C)(l)&&(u=l)}if(n){var f=this.getFrame(r),d=f.orderMap.filter([],function(t){return f.has.apply(f,t)});for(var p in q){var h=c.get([p]);d.get([p])&&h&&d.set([p],h)}c=d}var m=c.gets([]);return o.setOrderObject(c.orderMap),m.forEach(function(t){var e=i.getNowValue(r,t,a,s,n,u,ut(t));Object(O.F)(e)||o.set(t,e)}),o},n.prototype.getCurrentFrame=function(t,e){var r=this.getIterationTime(),n=t||this.needUpdate||!this.temp?this.getComputedFrame(r,e):this.temp;return this.temp=n},n.prototype.getComputedFrame=function(t,e,r){return this.getNowFrame(t,e,r)},n.prototype.load=function(t,e){var r;if(void 0===t&&(t={}),void 0===e&&(e=t.options),e&&this.setOptions(e),Object(O.B)(t))this.set(t);else if(t.keyframes)this.set(t.keyframes);else for(var n in t)"options"!==n&&this.set(((r={})[n]=t[n],r));return e&&e.duration&&this.setDuration(e.duration),this},n.prototype.clone=function(){var r=new n;return r.setOptions(this.state),r.setOrderObject(this.nameMap.orderMap),this.forEach(function(t,e){r.setFrame(e,t.clone())}),r},n.prototype.forEach=function(e){var t=this.times,r=this.items;return t.forEach(function(t){e(r[t],t,r)}),this},n.prototype.setOptions=function(t){void 0===t&&(t={}),a.prototype.setOptions.call(this,t);var e=t.id,r=t.selector,n=t.elements,i=t.element,o=t.target;return e&&this.setId(e),o?this.setTarget(o):r&&!this.state.noRegisterElement?this.setSelector(r):(n||i)&&this.setElement(n||i),this},n.prototype.toCSS=function(t,e,r){void 0===t&&(t={className:"startAnimation"}),void 0===e&&(e=this.getDuration()),void 0===r&&(r=[]);var n=this.state,i=n[$];if(!i)return"";var o=this.getDuration();n.duration=o,r.push(n);var a=Object(O.Q)(r).reverse(),s=ht(pt(this)),u=r[0],c=Object(O.w)(a,function(t){return"infinite"===t.iterationCount||!isFinite(t.duration)},r.length-1),l=a.slice(0,c),f=e||l.reduce(function(t,e){return(e[J]+t*e.iterationCount)/e.playSpeed},o),d=a.slice(c).reduce(function(t,e){return(t+e[J])/e.playSpeed},0),p=Object(O.v)(a,function(t){return t.easing&&t.easingName},n).easingName,h=a[c].iterationCount,m=u.fillMode,y=a[c].direction,v=Pt({fillMode:m,direction:y,iterationCount:h,delay:"".concat(d,"s"),name:"".concat("__SCENEJS_","KEYFRAMES_").concat(s),duration:"".concat(f/u.playSpeed,"s"),timingFunction:p}),g=Object(O.L)(i).map(function(t){var e=/([\s\S]+)(:+[a-zA-Z]+)$/g.exec(t);return e?[e[1],e[2]]:[t,""]}),_=t.className,b=t.selector,S=Object(O.C)(b)?b(this,i):b;return"\n    ".concat(S||g.map(function(t){var e=t[0],r=t[1];return"".concat(e,".").concat(_).concat(r)})," {").concat(v,"}\n    ").concat(g.map(function(t){var e=t[0],r=t[1];return"".concat(e,".").concat("pauseAnimation").concat(r)})," {").concat(O.b,"-play-state: paused;}\n    @").concat(O.h," ").concat("__SCENEJS_","KEYFRAMES_").concat(s,"{").concat(this._toKeyframes(f,l,y),"}")},n.prototype.exportCSS=function(t,e,r){if(!this.elements.length)return"";var n=this.toCSS(t,e,r);return r&&!Object(O.F)(r.iterationCount)||(this.styledInjector&&(this.styledInjector.destroy(),this.styledInjector=null),this.styled=T(n),this.styledInjector=this.styled.inject(this.getAnimationElement(),{original:!0})),this},n.prototype.pause=function(){return a.prototype.pause.call(this),lt(this)&&this.pauseCSS(),this},n.prototype.pauseCSS=function(){return this.elements.forEach(function(t){Object(O.o)(t,"pauseAnimation")}),this},n.prototype.endCSS=function(){return this.elements.forEach(function(t){Object(O.G)(t,"pauseAnimation"),Object(O.G)(t,"startAnimation")}),ct(this,!1),this},n.prototype.end=function(){return ft(this)&&this.endCSS(),a.prototype.end.call(this),this},n.prototype.playCSS=function(t,e,r){return void 0===t&&(t=!0),void 0===r&&(r={}),mt(this,t,e,r),this},n.prototype.getAnimationElement=function(){return this.elements[0]},n.prototype.addPlayClass=function(t,e,r){void 0===r&&(r={});var n=this.elements,i=n.length,o=Pt(r);if(i)return t?n.forEach(function(t){Object(O.G)(t,"pauseAnimation")}):(n.forEach(function(t){t.style.cssText+=o,Object(O.A)(t,"startAnimation")&&Object(O.G)(t,"startAnimation")}),n.forEach(function(t){t.clientWidth}),n.forEach(function(t){Object(O.o)(t,"startAnimation")})),n[0]},n.prototype.clear=function(){return this.times=[],this.items={},this.nameMap=new k("_///_"),this.styledInjector&&this.styledInjector.destroy(),this.styled=null,this.styledInjector=null,this.temp=null,this.needUpdate=!0,this},n.prototype.getNowValue=function(t,e,r,n,i,o,a){var s,u,c,l,f=this.times,d=f.length,p=Object(O.F)(r),h=Object(O.F)(n);if(p||h){var m=At(f,t);p&&(r=m[0]),h&&(n=m[1])}for(var y=r;0<=y;--y)if((g=this.getFrame(f[y])).has.apply(g,e)){s=f[y],c=g;break}var v=c&&c.raw.apply(c,e);if(i&&!st([e[0]]))return s===t?v:void 0;if(a)return v;for(y=n;y<d;++y){var g;if((g=this.getFrame(f[y])).has.apply(g,e)){u=f[y],l=g;break}}var _=l&&l.raw.apply(l,e);return!c||Object(O.F)(v)?_:!l||Object(O.F)(_)||v===_?v:function(t,e,r,n,i,o){if(t===e)return n;if(t===r)return i;if(!o)return It(n,i,t-e,r-t);var a=o((t-e)/(r-e));return It(n,i,a,1-a)}(t,Math.max(s,0),u,v,_,o)},n.prototype._toKeyframes=function(i,t,o){var a=this,s={},e=this.times.slice();if(!e.length)return"";var u=this.getDuration();!this.getFrame(0)&&e.unshift(0),!this.getFrame(u)&&e.push(u);var r,g,_,n=(r=t,g=e.map(function(t){return[t,t]}),_=[],r.forEach(function(t){for(var e=t.iterationCount,r=t[J],n=t.playSpeed,i=t.direction,o=Math.ceil(e),a=g[g.length-1][0],s=g.length,u=a*e,c=0;c<o;++c)for(var l="reverse"===i||"alternate"===i&&c%2||"alternate-reverse"===i&&!(c%2),f=0;f<s;++f){var d=g[l?s-f-1:f],p=d[1],h=a*c+(l?a-d[0]:d[0]),m=g[l?s-f:f-1];if(u<h){if(0!==f){var y=a*c+(l?a-m[0]:m[0]),v=Object(O.u)(m[1],p,u-y,h-u);Ft(_,(r+a*e)/n,v)}break}if(h===u&&_.length&&_[_.length-1][0]===u+r)break;Ft(_,(r+h)/n,p)}r&&_.unshift([0,_[0][1]]),g=_,_=[]}),g),c=n[n.length-1];c[0]<i&&Ft(n,i,c[1]);var l=-1;return n.map(function(t){var e=t[0],r=t[1];s[r]||(s[r]=(a.hasFrame(r)&&0!==r&&r!==u?a.getNowFrame(r,0,!0):a.getNowFrame(r)).toCSSText());var n=e/i*100;return n-l<1e-6&&(n+=1e-6),l=n,"".concat(Math.min(n,100),"%{\n                ").concat(0!==e||St(0,1,o)?s[r]:"","\n            }")}).join("")},n.prototype.updateFrameOrders=function(){var e=this.nameMap.orderMap;this.forEach(function(t){t.setOrderObject(e)})},n}(jt),Nt=function(a){function m(t,e){var r=a.call(this)||this;return r.items={},r.orderMap=new k("_///_"),r.load(t,e),r}return D(m,a),m.prototype.getDuration=function(){var e=0;return this.forEach(function(t){e=Math.max(e,t.getTotalDuration()/t.getPlaySpeed())}),e||this.state.duration},m.prototype.setDuration=function(e){this.items;var t=this.getDuration();if(0===e||!isFinite(t))return this;if(0===t)this.forEach(function(t){t.setDuration(e)});else{var r=e/t;this.forEach(function(t){t.setDelay(t.getDelay()*r),t.setDuration(t.getDuration()*r)})}return a.prototype.setDuration.call(this,e),this},m.prototype.getItem=function(t){return this.items[t]},m.prototype.newItem=function(t,e){if(void 0===e&&(e={}),this.items[t])return this.items[t];var r=new Lt;return this.setItem(t,r),r.setOptions(e),r},m.prototype.removeItem=function(t){return delete this.items[t],this.orderMap.remove([t]),this},m.prototype.setItem=function(t,e){return e.setId(t),this.items[t]=e,this.orderMap.add([t]),this},m.prototype.getCurrentFrames=function(r,t){var n=this.getEasing()||t,i={};return this.forEach(function(t){var e=t.getId();gt(t)?i[e]=t.getCurrentFrames(r,n):i[e]=t.getCurrentFrame(r,n)}),this.temp=i},m.prototype.getCurrentFlattedFrames=function(t,e){return function t(e,r){var n={};for(var i in e){var o=e[i];if(bt(o))n[i]=o;else if(Object(O.D)(o)){var a=t(o,r);for(var s in a)n["".concat(i).concat(r).concat(s)]=a[s]}}return n}(this.getCurrentFrames(t,e),"_///_")},m.prototype.setTime=function(t,n,e,i){var o=this;return a.prototype.setTime.call(this,t,n,e,function(){var e=o.getIterationTime(),r=o.getEasing()||i;o.forEach(function(t){t.setTime(e*t.getPlaySpeed()-t.getDelay(),n,!0,r)});var t=o.getCurrentFrames(!1,i);o.trigger("animate",{frames:t,currentTime:o.getTime(),time:e})}),this},m.prototype.forEach=function(r){var n=this.items;return this.getOrders().forEach(function(t,e){r(n[t],t,e,n)}),this},m.prototype.toCSS=function(e,t,r){void 0===t&&(t=this.getDuration()),void 0===r&&(r=[]);var n=t&&isFinite(t)?t:0,i=[],o=this.state;return o.duration=this.getDuration(),this.forEach(function(t){i.push(t.toCSS(e,n,r.concat(o)))}),i.join("")},m.prototype.exportCSS=function(t,e,r){var n=this.toCSS(t,e,r);return r&&r.length||(this.styledInjector&&(this.styledInjector.destroy(),this.styledInjector=null),this.styled=T(n),this.styledInjector=this.styled.inject(this.getAnimationElement(),{original:!0})),this},m.prototype.append=function(t){t.setDelay(t.getDelay()+this.getDuration()),this.setItem(pt(t),t)},m.prototype.pauseCSS=function(){return this.forEach(function(t){t.pauseCSS()})},m.prototype.pause=function(){return a.prototype.pause.call(this),lt(this)&&this.pauseCSS(),this.forEach(function(t){t.pause()}),this},m.prototype.endCSS=function(){this.forEach(function(t){t.endCSS()}),ct(this,!1)},m.prototype.end=function(){return ft(this)&&this.endCSS(),a.prototype.end.call(this),this},m.prototype.getOrders=function(){return this.orderMap.get([])||[]},m.prototype.setOrders=function(t){return this.orderMap.set([],t)},m.prototype.getAnimationElement=function(){var r;return this.forEach(function(t){var e=t.getAnimationElement();!r&&(r=e)}),r},m.prototype.addPlayClass=function(r,n,i){var o;return void 0===i&&(i={}),this.forEach(function(t){var e=t.addPlayClass(r,n,i);!o&&(o=e)}),o},m.prototype.playCSS=function(t,e,r){return void 0===t&&(t=!0),void 0===r&&(r={}),mt(this,t,e,r),this},m.prototype.set=function(t){return this.load(t),this},m.prototype.clear=function(){this.finish(),this.items={},this.orderMap=new k("_///_"),this.styledInjector&&this.styledInjector.destroy(),this.styled=null,this.styledInjector=null},m.prototype.load=function(d,t){if(void 0===d&&(d={}),void 0===t&&(t=d.options),!d)return this;this.setOptions(t);var p=t&&t[$]||this.state[$],e=function(e){if("options"===e)return"continue";var t=d[e],r=void 0;if(gt(t)||_t(t))h.setItem(e,t),r=t;else{if(Object(O.C)(t)){var n=[];p&&O.g&&(h.state.noRegisterElement||(n=Object(O.a)("".concat(Object(O.C)(p)?p(e):e),!0)));for(var i=n.length,o=i||t.defaultCount||0,a=new m,s=[],u=0;u<o;++u){var c=n[u],l=a.newItem(u);l.setId().load(t(u,n[u])),s.push(l.getId()),c&&l.setElement(c)}if(!i){var f=[];a.state[$]=function(t){return f.length||(f=Object(O.a)("".concat(Object(O.C)(p)?p(e):e),!0)),f[s.indexOf(t)]}}return h.setItem(e,a),"continue"}(r=h.newItem(e,{noRegisterElement:!0})).load(t)}h.state.noRegisterElement||p&&r.setSelector(p)},h=this;for(var r in d)e(r)},m.prototype.setOptions=function(t){void 0===t&&(t={}),a.prototype.setOptions.call(this,t);var e=t.selector;return e&&(this.state[$]=e),this},m.prototype.setSelector=function(r){var t=this.state,n=!0===r?t[$]||!0:r;t[$]=n;var i=Object(O.C)(r);return n&&this.forEach(function(t,e){t.setSelector(i?r(e):n)}),this},m.prototype.start=function(t){void 0===t&&(t=this.state[J]);var e=a.prototype.start.call(this,t);return e?this.forEach(function(t){t.start(0)}):this.forEach(function(t){t.setPlayState("running")}),e},m.VERSION="1.10.3",m}(jt);function Rt(t){var r=t.prototype;return Object(O.z)(r).filter(function(t){var e=Object.getOwnPropertyDescriptor(r,t);return"constructor"!==t&&!e.get&&!e.set&&Object(O.C)(e.value||r[t])})}var Wt=M(M([],Rt(n),!0),Rt(jt),!0),Bt=(M(M([],Wt,!0),Rt(Nt),!0),M(M([],Wt,!0),Rt(Nt),!0),M(M([],Wt,!0),Rt(xt),!0)),Ut={methods:Bt,created:function(t){var o,e=Object(O.C)(t)?t():t,r=v(0);o=j(e)?e:v(bt(e)?e:new xt(e));var n=g(function(){return o.current,r.current,o.current.toCSSText()}),i=g(function(){return o.current,n.current,o.current.toCSSObject()}),a=g(function(){return o.current,n.current,o.current.toCSSObject(!0)}),s=function(){++r.current};return o.subscribe(function(t,e){e.off("update",s),t.on("update",s)}),y(x({cssText:n,cssObject:i,camelCasedCSSObject:a,onUpdate:s},Bt.reduce(function(t,i){return t[i]=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=o.current;return null==n?void 0:(t=n[i]).call.apply(t,M([n],e,!1))},t},{})))},destroy:function(t){t.off("update",t.onUpdate)}};x(x({},Ut),{created:function(t){var e=Object(O.C)(t)?t():t,r=v(new xt);return e.on("animate",function(t){r.current=t.frame}),Ut.created(r)}})},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var _helpers_main_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_helpers_setupVideoInterface__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),scenejs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_bycape_scenejs_media__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7),webfontloader__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6),webfontloader__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(webfontloader__WEBPACK_IMPORTED_MODULE_4__),_helpers_lottie_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2),clickTagLayer=document.querySelector("#clickTagLayer");clickTagLayer&&(clickTagLayer.style.zIndex="99999");var banner=document.querySelector("[template-banner]"),lastFrameData={},frameDelay=0,pauseBaseMedia,Template=function(){function Template(){_classCallCheck(this,Template),this.queryParams={format:_helpers_main_js__WEBPACK_IMPORTED_MODULE_0__.default.getQueryParam("format"),frameNr:_helpers_main_js__WEBPACK_IMPORTED_MODULE_0__.default.getQueryParam("frameNr"),isReview:_helpers_main_js__WEBPACK_IMPORTED_MODULE_0__.default.getQueryParam("isReview")},this.CSS="",this.mediaScene=new _bycape_scenejs_media__WEBPACK_IMPORTED_MODULE_3__.a,this.iterationCount=1,this.onTemplateLoad=null,this.baseFreeJS=null,this.baseLayer=!1,this.shrinkTextToFitObserver={},this.previousUserInput={},this.loadData()}return _createClass(Template,[{key:"loadData",value:function(){if(window.injectedCampaignData&&!window.injectedCampaignData.replace)this.model=window.injectedCampaignData.model,window.model=this.model,this.adSetup=window.injectedCampaignData.template,this.listen(),this.update();else if(""!==window.location.hash){var t=JSON.parse(decodeURIComponent(location.hash.substring(1)));this.model=t.model,window.model=this.model,this.adSetup=t.template,this.listen(),this.update()}else this.listen()}},{key:"loadFontsEvent",value:function(t){var e=new Event("fontLoaded"+t);document.dispatchEvent(e)}},{key:"loadFonts",value:function(t){var n=this;this.areFontsLoaded=!0;var i,e=t.filter(function(t){return t&&"brandGuide"===t.type}),r=t.filter(function(t){return t&&"googleFonts"===t.type}),o=_createForOfIteratorHelper(e);try{var a=function(){var t=i.value,e=t.key||t.font,r=new FontFace(e,"url(".concat(t.src,")"));document.fonts.add(r),r.loaded.then(function(){n.loadFontsEvent(e)}).catch(function(){n.loadFontsEvent(e)})};for(o.s();!(i=o.n()).done;)a()}catch(t){o.e(t)}finally{o.f()}0<r.length&&(this.loadedGoogleFonts=0,webfontloader__WEBPACK_IMPORTED_MODULE_4___default.a.load({google:{families:r.map(function(t){return"".concat(t.font,":").concat(t.variants.join(","))})},fontactive:function(t){n.loadFontsEvent(t)},fontinactive:function(t){n.loadFontsEvent(t)}}))}},{key:"listen",value:function(){var r=this;this.iterationCount=1,window.onhashchange=function(){var t=JSON.parse(decodeURIComponent(location.hash.substring(1)));r.model=t.model,window.model=r.model,r.adSetup=t.template,r.update()},window.addEventListener("message",function(t){if(r.skipNextRerender)r.skipNextRerender=!1;else{if("object"!=_typeof(t.data)||"object"!=_typeof(t.data.data)||!t.data.uuid)return!1;try{var e=_objectSpread(_objectSpread({},t.data.data),{},{origin:t.data.origin,uuid:t.data.uuid});r.model&&(r.oldModel=r.model),JSON.stringify(e)!=JSON.stringify(r.model)&&(r.model=e,window.model=r.model,void 0!==t.data.data.template&&(r.adSetup=t.data.data.template),r.scene&&r.scene.pause(),r.update())}catch(t){console.error(t)}}})}},{key:"executeBaseCustomJS",value:function executeBaseCustomJS(){try{var baseFreeJS=this.adSetup.frames.base.customJS.free;baseFreeJS&&!this.baseFreeJS&&(this.baseFreeJS=baseFreeJS,eval(baseFreeJS));var onTemplateLoad=this.adSetup.frames.base.customJS.onTemplateLoad;onTemplateLoad&&!this.onTemplateLoad&&(this.onTemplateLoad=onTemplateLoad,eval(onTemplateLoad))}catch(t){}}},{key:"setLottieTime",value:function(i){window.lottie&&window.lottie.getRegisteredAnimations().forEach(function(t){var e=t.totalFrames,r=i*t.frameRate,n=e<=r?e-1:r;window.lottie.goToAndStop(n,!0,t.name)})}},{key:"update",value:function(){var r=this;this.executeBaseCustomJS(),this.CSS="",this.adSetup.fonts&&!this.areFontsLoaded&&this.loadFonts(this.adSetup.fonts);var t=function(){if(!r.oldModel)return!1;if(r.oldModel.frameNr!==r.model.frameNr)return!0;if(r.oldModel.type!==r.model.type)return!0;if((r.oldModel.frames&&r.oldModel.frames.frame&&r.oldModel.frames.frame.type)!==(r.model.frames&&r.model.frames.frame&&r.model.frames.frame.type))return!0;if(r.oldModel.language!==r.model.language)return!0;if(r.oldModel.frames&&r.model.frames&&r.oldModel.frameNr===r.model.frameNr){var t=r.oldModel.frames["frame"+r.oldModel.frameNr],e=r.model.frames["frame"+r.model.frameNr];return t&&e&&r.oldModel.frames["frame"+r.oldModel.frameNr].type!==r.model.frames["frame"+r.model.frameNr].type}}();this.adSetup.enableLottie?_helpers_main_js__WEBPACK_IMPORTED_MODULE_0__.default.loadScript("https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.12.2/lottie.min.js").finally(function(){return r.renderTemplate(t)}):this.renderTemplate(t)}},{key:"combineAnimationWithInput",value:function(d,t,e,r){return r.includes(e)&&Object.entries(t).forEach(function(t){var e=_slicedToArray(t,2),l=e[0],f=e[1];Object.entries(d).forEach(function(t){var e=_slicedToArray(t,2),c=e[0],r=e[1];Object.entries(r).forEach(function(t){var e=_slicedToArray(t,2),r=e[0],n=e[1];if(r===l||"string"==typeof n&&(n.includes(l)||n.includes("rotate")&&"rotation"===l)){var i=d[c];switch(l){case"opacity":i[r]=n*(f/100);break;case"scale":var o=_helpers_main_js__WEBPACK_IMPORTED_MODULE_0__.default.getTransformValue(n,"scale"),a=_helpers_main_js__WEBPACK_IMPORTED_MODULE_0__.default.setTransformValue(n,"scale",o*(f/100));i[r]=a;break;case"rotation":var s=_helpers_main_js__WEBPACK_IMPORTED_MODULE_0__.default.getTransformValue(n,"rotate"),u=_helpers_main_js__WEBPACK_IMPORTED_MODULE_0__.default.setTransformValue(n,"rotate",parseInt(s)+f+"deg");i[r]=u}}})})}),d}},{key:"renderTemplate",value:function(t){var p=this;if(void 0!==this.adSetup&&void 0!==this.adSetup.formats){this.mediaScene&&this.mediaScene.clear();try{var e=this.adSetup.formats.find(function(t){return t&&t.key===p.model.format});if(!e)throw new Error("Format: ".concat(this.model.format," not found in the export"));banner.style.width=e.width+"px",banner.style.height=e.height+"px",this.export=!this.model.scale;var r=function(){if(e.width_full&&e.height_full&&p.export)return{width:Number(e.width_full)/e.width,height:Number(e.height_full)/e.height}}();void 0!==r&&(banner.style.transform="scale(".concat(r.width,", ").concat(r.height,")"),banner.style.transformOrigin="top left"),document.querySelector('meta[name="ad.size"]').content="width=".concat(e.width,",height=").concat(e.height),this.oldAnimations=_helpers_main_js__WEBPACK_IMPORTED_MODULE_0__.default.cloneDeep(this.animations),this.animations={},this.timeouts={},frameDelay=0;var n=document.querySelector(".frames");t&&(n.innerHTML="",this.scene&&this.scene.setTime(0)),n.dataset.editMode=this.model.editmode;var i=document.getElementById("clickTagLayer");this.model.editmode&&i&&(i.style.display="none");try{var o=this.model.frames["frame"+this.model.frameNr].type;document.querySelectorAll("[class^=frametype-]").forEach(function(t){t.classList.contains("frametype-base")||t.classList.contains("frametype-"+o)&&t.classList.contains("frame"+p.model.frameNr)||t.parentNode.removeChild(t)})}catch(t){}if(pauseBaseMedia=!(1===this.model.frameNr&&this.model.frames&&1===Object.keys(this.model.frames).length||!this.model.frameNr),this.adSetup.frames.base&&this.model.frames){var a=Object.values(this.model.frames).reduce(function(t,e){if(!e.type)return t;var r=p.adSetup.frames[e.type]&&p.adSetup.frames[e.type].duration&&1e3*p.adSetup.frames[e.type].duration,n=e.format&&e.format.frameDuration&&Number(e.format.frameDuration);return void 0!==n?t+=n:void 0!==r&&(t+=r),t},0);this.adSetup.frames.base.duration=a,this.renderFrame(this.adSetup.frames.base,"frametype-base",this.adSetup.layers.base||[],this.model.frames?this.model.frames.base:{},"base"),this.baseLayer=!0}if(void 0!==this.adSetup.dynamicFrames&&(this.adSetup.dynamicFrames?this.model.frames&&this.model.frames.frame&&delete this.model.frames.frame:this.model.frames&&Object.keys(this.model.frames).forEach(function(t){"base"!==t&&"frame"!==t&&delete p.model.frames[t]})),this.model.frames)if(0<this.model.frameNr&&this.model.frames["frame"+this.model.frameNr]){var s=this.model.frames["frame"+this.model.frameNr],u=s.type,c=_objectWithoutProperties(s,_excluded),l=c.format,f=this.adSetup.layers[u],d=this.adSetup.frames[u];if(!f)return void _helpers_main_js__WEBPACK_IMPORTED_MODULE_0__.default.showErrorMessage("Layers for frame type: ".concat(u," not found in the export"));if(!d)return void _helpers_main_js__WEBPACK_IMPORTED_MODULE_0__.default.showErrorMessage("Frame type: ".concat(u," not found in the export"));this.renderFrame(d,"frametype-"+u,f,c,"frame"+this.model.frameNr);var h=d.animations,m=d.duration;l&&l.frameDuration&&(m=parseInt(l.frameDuration)/1e3),m&&(frameDelay+=m),h&&Object.keys(h).forEach(function(e){var t=Object.keys(c).find(function(t){return e.includes(t)}),r=_helpers_main_js__WEBPACK_IMPORTED_MODULE_0__.default.cloneDeep(h[e]),n=p.combineAnimationWithInput(r,c[t],t,e);"effects"!==e&&(p.animations[".frame".concat(p.model.frameNr," ").concat(e)]=_objectSpread(_objectSpread({},n),{},{options:_objectSpread(_objectSpread({},n.options),{},{duration:m,frameDelay:frameDelay})}))})}else Object.keys(this.model.frames).sort().forEach(function(n,t){var e;if("base"!==n){var r=p.model.frames[n],i=r.type,o=void 0===i?"main":i,a=_objectWithoutProperties(r,_excluded2),s=a.format,u=Object.keys(p.model.frames).length-1===t,c=p.adSetup.layers[o],l=_helpers_main_js__WEBPACK_IMPORTED_MODULE_0__.default.cloneDeep(p.adSetup.frames[o]);if(c)if(l){p.renderFrame(l,"frametype-"+o,c,a,n);var f=l.animations,d=l.duration;s&&s.frameDuration&&(d=parseInt(s.frameDuration)/1e3),p.animations["."+n]=(_defineProperty(e={},frameDelay,{display:"none"}),_defineProperty(e,frameDelay+.01,{display:"block"}),_defineProperty(e,frameDelay+d+(u?0:.01),{display:"none"}),e),_helpers_lottie_js__WEBPACK_IMPORTED_MODULE_5__.default.manageLottie(!1,0,d),Object.keys(p.model.frames).length-1===t&&(p.animations["."+n][frameDelay+d]={display:"block"}),f&&Object.keys(f).forEach(function(e){if(e.includes(p.model.format)){var t=Object.keys(a).find(function(t){return e.includes(t)}),r=p.combineAnimationWithInput(f[e],a[t],t,e);p.animations[".".concat(n," ").concat(e)]=_objectSpread(_objectSpread({},r),{},{options:_objectSpread(_objectSpread({},r.options),{},{delay:frameDelay})})}}),frameDelay+=d}else _helpers_main_js__WEBPACK_IMPORTED_MODULE_0__.default.showErrorMessage("Frame type: ".concat(o," not found in the export"));else _helpers_main_js__WEBPACK_IMPORTED_MODULE_0__.default.showErrorMessage("Layers for frame type: ".concat(o," not found in the export"))}});else{var y,v,g=Object.entries(this.adSetup.frames);if(this.model.type&&"none"!==this.model.type){y=this.model.type;var _=g.findIndex(function(t){return t[0]===y});-1===_&&(_=g.length-1),v=g[_][1]}else{var b=_slicedToArray(g[g.length-1],2);y=b[0],v=b[1]}if(!v)throw new Error("No frame data found in the export");var S=this.adSetup.layers[y];if(!S)throw new Error("No layers found in the export");this.renderFrame(v,"frametype-"+y,S,this.model,"frame0"),v.animations&&(this.animations=_helpers_main_js__WEBPACK_IMPORTED_MODULE_0__.default.cloneDeep(v.animations),Object.keys(this.animations).forEach(function(e){if(e.includes(p.model.format)){var t=Object.keys(p.model).find(function(t){return e.includes(t)}),r=p.combineAnimationWithInput(p.animations[e],p.model[t],t,e);p.animations[e]=_objectSpread(_objectSpread({},r),{},{options:_objectSpread(_objectSpread({},r.options),{},{delay:frameDelay})})}})),_helpers_lottie_js__WEBPACK_IMPORTED_MODULE_5__.default.manageLottie(!1,0,v.duration),frameDelay+=v.duration}if(window.editor?window.editor(this.model):this.model.editmode&&_helpers_main_js__WEBPACK_IMPORTED_MODULE_0__.default.loadScript("editor.js").then(function(t){window.editor(p.model)}),document.querySelector("#allCSS"))document.querySelector("#allCSS").innerHTML=this.CSS;else{var O=document.createElement("style");O.id="allCSS",O.styleSheet?O.styleSheet.cssText=this.CSS:O.appendChild(document.createTextNode(this.CSS)),document.getElementsByTagName("head")[0].appendChild(O)}this.scene=new scenejs__WEBPACK_IMPORTED_MODULE_2__.a(_objectSpread(_objectSpread({},this.animations),{},{media:this.mediaScene}),{selector:!0,fillMode:"forwards",iterationCount:this.getIterationCount()});var E=_helpers_main_js__WEBPACK_IMPORTED_MODULE_0__.default.findVideoAudioInFrame(this.model,this.adSetup);if(!["dynamicImageDesigned","dynamicPDFDesigned"].includes(this.adSetup.type)&&this.model.scale&&this.adSetup.enableAnimations)Object(_helpers_setupVideoInterface__WEBPACK_IMPORTED_MODULE_1__.default)(this.scene,this.timeouts,frameDelay,this.model.scale,pauseBaseMedia,E,e.width<=150,this.iterationCount);else{var j=document.querySelector(".play-template");j&&j.remove()}this.scene.setTime(this.savedCurrentTime?this.savedCurrentTime:.01),this.savedCurrentTime||"paused"!==this.scene.getPlayState()||(clearTimeout(this.playTimeout),this.playTimeout=setTimeout(function(){p.scene.play(),_helpers_lottie_js__WEBPACK_IMPORTED_MODULE_5__.default.manageLottie(!0,p.scene.getTime(),p.scene.getDuration())},400)),"dynamicVideoDesigned"!==this.adSetup.type&&"displayAdDesigned"!==this.adSetup.type||this.scene.on("timeupdate",function(){p.savedCurrentTime=p.scene.getTime()});var w={type:"status",uuid:this.model.uuid,loaded:!0};window.parent.postMessage(w,this.model.origin)}catch(t){console.log(t),_helpers_main_js__WEBPACK_IMPORTED_MODULE_0__.default.showErrorMessage(t.message)}}}},{key:"renderFrame",value:function renderFrame(frameData,cls,layers){var frameInput=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},frameId=4<arguments.length?arguments[4]:void 0,fDiv=document.querySelector("."+cls+"."+frameId);fDiv||(fDiv=document.createElement("div"),fDiv.className="".concat(cls," frame-type ").concat(frameId),fDiv.setAttribute("data-duration",frameData.duration),document.querySelector(".frames").appendChild(fDiv));var style=frameData.style[this.model.format],userInput=frameInput.formatData||frameInput.format||{};frameInput.feedItem&&(userInput=this.getFeedItem(frameInput.feedItem,userInput,"formatData")),userInput=_helpers_main_js__WEBPACK_IMPORTED_MODULE_0__.default.getLanguageSpecificUserInput(userInput,this.model.language);var backgroundImage=userInput.backgroundImage&&0<Object.keys(userInput.backgroundImage).length?"url(".concat(userInput.backgroundImage.url||userInput.backgroundImage,")"):style.backgroundImage,backgroundPosition=userInput.backgroundPosition||style.backgroundPosition,backgroundSize=userInput.backgroundSize||style.backgroundSize,backgroundRepeat=userInput.backgroundRepeat||style.backgroundRepeat,backgroundColor=userInput.backgroundColor||userInput.background||style.backgroundColor||style.background;if(backgroundImage&&backgroundPosition&&backgroundSize&&backgroundRepeat&&backgroundColor){var t="".concat(backgroundImage," ").concat(backgroundPosition,"/").concat(backgroundSize," ").concat(backgroundRepeat,", ").concat(backgroundColor);fDiv.style.background=t}else fDiv.style.background=backgroundColor,fDiv.style.backgroundImage=backgroundImage;if(fDiv.style.borderColor=userInput.borderColor||style.borderColor,fDiv.style.borderStyle=userInput.borderStyle||style.borderStyle,fDiv.style.borderWidth=userInput.borderWidth?userInput.borderWidth+"px":style.borderWidth?style.borderWidth:style.borderTopWidth&&style.borderRightWidth&&style.borderBottomWidth&&style.borderLeftWidth?"".concat(style.borderTopWidth," ").concat(style.borderRightWidth," ").concat(style.borderBottomWidth," ").concat(style.borderLeftWidth):void 0,fDiv.style.transition=style.transition,fDiv.style.padding=style.padding,style.fontSize&&(fDiv.style.fontSize=style.fontSize),frameData.customCSS&&frameData.customCSS[this.model.format]){var _t14=cls.split(" ").join(", .");this.CSS+=".frame-type.".concat(_t14," {").concat(frameData.customCSS[this.model.format],"}")}setTimeout(function(){frameData.customJS&&frameData.customJS.onFrametypeInView&&eval(frameData.customJS.onFrametypeInView),frameData.customJS&&frameData.customJS.free&&eval(frameData.customJS.free)}),this.renderLayers(fDiv,layers,frameData,0,frameInput,void 0,frameId);var hoverData=frameData.hover&&frameData.hover[this.model.format];if(hoverData){var _t15=cls.split(" ").join("."),e=Object.entries(frameData.hover[this.model.format]).map(function(t){var e=_slicedToArray(t,2),r=e[0],n=e[1];return n?"".concat(r,": ").concat(n," !important;"):""}).filter(function(t){return""!==t});this.CSS+=".banner #clickTagLayer:hover+.frames .".concat(_t15," {").concat(e.join(" "),"}")}}},{key:"renderLayers",value:function(Pt,t,Ft,Lt,Nt,Rt,Wt){var Bt=this,Ut=this.model.language;Ft||(Ft={});var zt=_helpers_main_js__WEBPACK_IMPORTED_MODULE_0__.default.layersShouldReverse(this.adSetup.options),Kt=zt?t.slice().reverse():t;Kt.forEach(function(t,e){var r=Ft.layers[t.key]||{},n=Nt&&Nt[t.key]||{};Array.isArray(r.style)&&!r.style.length&&(r.style={});var i=Bt.model.format&&Bt.model.frameNr&&Wt?"overwrites.".concat(Bt.model.format,".frames.").concat(Wt,".").concat(t.key):Bt.model.format?"overwrites.".concat(Bt.model.format,".").concat(t.key):void 0,o=Bt.getValueFromModel(i)||{};if(Nt.feedItem)n=Bt.getFeedItem(Nt.feedItem,n,t.key);else if(!Nt.feedItem&&void 0!==n.visibility&&("string"==typeof n.visibility||"number"==typeof n.visibility)){var a=n.visibility;n.visibility=!(1===a||"1"===a||"true"===a)}Bt.adSetup.positionByLanguage&&(o[Bt.model.language]?o=_objectSpread(_objectSpread({},o),o[Bt.model.language]):o.EN&&(o=_objectSpread(_objectSpread({},o),o.EN))),n=_helpers_main_js__WEBPACK_IMPORTED_MODULE_0__.default.getLanguageSpecificUserInput(n,Ut),lastFrameData[t.key]=JSON.stringify(r);var s=r.formats&&r.formats[Bt.model.format]||{},u=_helpers_main_js__WEBPACK_IMPORTED_MODULE_0__.default.mergeDeep(r.style||{},s),c=u.textStyling&&u.textStyling.normal&&u.textStyling.normal.fontSize||u.fontSize;u&&u.textStyling&&u.textStyling.normal&&delete(u=_objectSpread(_objectSpread({},u),u.textStyling.normal)).textStyling.normal;var l=_helpers_main_js__WEBPACK_IMPORTED_MODULE_0__.default.mergeDeep(u,n,o);void 0!==c&&void 0!==n.fontSize&&(l.fontSize=c);var f=document.querySelector("."+Wt+" ."+t.key),d=Object.keys(n).some(function(t){switch(t){case"horizontalAlign":case"verticalAlign":return n[t]}});f&&d&&(f.remove(),f=void 0);var p=!1;f||(p=!0,"image"===t.type?(f=document.createElement("img"),"string"==typeof l.alt&&(f.alt=l.alt,"titleOfAsset"===l.altType&&n.image&&n.image.title&&(f.alt=n.image.title)),f.onerror=function(){img.style.opacity="0"}):"video"===t.type?((f=document.createElement("video")).id="".concat(Wt,"_").concat(t.key,"_video"),f.preload="auto",f.loop=l.loop,f.muted=!0):"audio"===t.type?((f=document.createElement("audio")).id="".concat(Wt,"_").concat(t.key,"_audio"),f.preload="auto",f.loop=l.loop,f.muted=!0):f=document.createElement("div"));var h=f.style;f.classList.add(t.key,Bt.model.format),Bt.adSetup.customJS&&l.customClassname&&f.classList.add(l.customClassname);var m=Bt.baseLayer?2:1;h.zIndex=zt?e+m:Kt.length-e,f.dataset.layer=t.key,(Array.isArray(r.style)&&0===r.style.length||!r.style)&&(r.style={}),Array.isArray(s.hover)&&delete s.hover,Array.isArray(s.textStyling&&s.textStyling.normal)&&delete s.textStyling.normal,Array.isArray(s.textStyling&&s.textStyling.highlighted)&&delete s.textStyling.highlighted,Array.isArray(r.style.hover)&&delete r.style.hover,Array.isArray(r.style.textStyling&&r.style.textStyling.normal)&&delete r.style.textStyling.normal,Array.isArray(r.style.textStyling&&r.style.textStyling.highlighted)&&delete r.style.textStyling.highlighted;var y=!!(u&&u.canEdit&&u.canEdit.defaultHidden);if(!y||"image"!==t.type||n&&n.image&&0<Object.keys(n.image).length)if(!y||"video"!==t.type||n&&n.video&&0<Object.keys(n.video).length){if(Bt.model.editmode){var v=s.canEdit&&0<Object.keys(s.canEdit).length?s.canEdit:l.canEdit&&!Array.isArray(l.canEdit)&&0<Object.keys(l.canEdit).length?l.canEdit:u.canEdit&&!Array.isArray(l.canEdit)&&0<Object.keys(r.canEdit).length?u.canEdit:{};Object.entries(v).forEach(function(t){var e=_slicedToArray(t,2),r=e[0],n=e[1];f.dataset[r]=n})}var g=u.text;n.text&&(void 0!==n.text.value?g=n.text.value:n.text[Ut]&&void 0!==n.text[Ut].value?g=n.text[Ut].value:void 0!==n.text&&(g="string"==typeof n.text.value?n.text.value:n.text));var _,b=!1;if(Bt.adSetup&&Bt.adSetup.createdDate&&(b=_helpers_main_js__WEBPACK_IMPORTED_MODULE_0__.default.templateUsesFontScaling(Bt.adSetup.createdDate)),b&&u.fontSize&&(f.style.fontSize=u.fontSize),"string"==typeof g){var S=b&&f.querySelector(".text-wrapper"),O=f.querySelector("span");if(S||(S=document.createElement("div")).classList.add("text-wrapper"),O||(O=document.createElement("span")),b&&(S.appendChild(O),S.style.width="100%"),l.canEdit&&l.canEdit.scaleText&&(Bt.shrinkTextToFitObserver[t.key]&&Bt.shrinkTextToFitObserver[t.key].disconnect(),Bt.shrinkTextToFitObserver[t.key]=new MutationObserver(function(){_helpers_main_js__WEBPACK_IMPORTED_MODULE_0__.default.shrinkText(f,u.fontSize,n.fontSize,b)}),Bt.shrinkTextToFitObserver[t.key].observe(O,{childList:!0,characterData:!0}),document.addEventListener("fontLoaded"+l.fontFamily,function(){_helpers_main_js__WEBPACK_IMPORTED_MODULE_0__.default.shrinkText(f,u.fontSize,n.fontSize,b)})),n.fontSize&&(!l.canEdit||!l.canEdit.scaleText))if(b){var E=n.fontSize/100+"em";S.style.fontSize=E,setTimeout(function(){f.style.fontSize=s.fontSize})}else setTimeout(function(){f.style.fontSize.includes("rem")?f.style.fontSize=n.fontSize/100+"rem":f.style.fontSize.includes("em")?f.style.fontSize=n.fontSize/100+"em":f.style.fontSize=n.fontSize+"px"});(g=g.toString())&&g.startsWith("{")&&g.endsWith("}")&&(g="");var j,w,k=g;l.textBackground&&(j=l.background||l.backgroundColor,w=l.padding,delete l.background,delete l.backgroundColor,delete l.padding,delete l.textBackground);var T=Bt.adSetup.options&&Bt.adSetup.options.highlightedCharacter||"*",C=function(){switch(T){case"[":return new RegExp(/\[([^\]]*?)\]/gm);case"(":return new RegExp(/\(([^)]*?)\)/gm);case"{":return new RegExp(/\{([^}]*?)\}/gm);case"*":default:return new RegExp(/\*(([\n\r]|.)*?)\*/gm)}}(),D=new RegExp(/\^(([\n\r]|.)*?)\^/gm),x=new RegExp(/~(([\n\r]|.)*?)~/gm),M=new RegExp(/_(([\n\r]|.)*?)_/gm),I=new RegExp(/\|(([\n\r]|.)*?)\|/gm),A=C.test(k),P=D.test(k),F=x.test(k),L=M.test(k),N=I.test(k);if(A){s.textStyling.highlighted||(s.textStyling.highlighted={}),s.textStyling.highlighted.verticalAlign="inherit";var R=s.textStyling.highlighted&&Object.entries(s.textStyling.highlighted).map(function(t){var e=_slicedToArray(t,2),r=e[0],n=e[1];return"".concat(r.replace(/([A-Z])/g,"-$1").toLowerCase(),": ").concat(n)}).join(";"),W=(_="display:inline; text-decoration:".concat(s.textStyling.highlighted.textDecoration,"; text-decoration-style:").concat(s.textStyling.highlighted.textDecorationStyle,"; font-size: ").concat(s.textStyling.highlighted.fontSize,";"),s&&s.textStyling&&s.textStyling.highlighted&&s.textStyling.highlighted.background&&s.textStyling.highlighted.background.toString().includes("gradient")?_+="-webkit-text-fill-color: black;":_+="-webkit-text-fill-color:".concat(s.textStyling.highlighted.background,";"),_);k=k.replace(C,'<span style="'.concat(W,'"><span style="').concat(R||"",'">$1</span></span>'))}if(j||w){var B="";w&&(B+="padding: ".concat(w,";")),j&&(B+="background-color: ".concat(j,";")),B+="-webkit-box-decoration-break: clone; white-space: normal; vertical-align: middle;",k=k.replace(/\n/g,'</span>\n<span style="'.concat(B,'">')),k='<span style="'.concat(B,'">').concat(k,"</span>")}P&&(k=k.replace(D,'<ins style="font-weight: bold;">$1</ins>')),F&&(k=k.replace(x,'<ins style="font-style: italic;">$1</ins>')),L&&(k=k.replace(M,'<ins style="text-decoration: underline;">$1</ins>')),N&&(k=k.replace(I,'<ins style="text-decoration: line-through;">$1</ins>')),O.innerHTML=k.replace(/\n/g,"<br>"),O.style.cssText+=r.customCSS,b?f.appendChild(S):f.appendChild(O)}for(var U in l.horizontalAlign&&"none"!==l.horizontalAlign&&(l.transform=l.transform.split(" ").map(function(t){return t.startsWith("translateX")?"":t}).join(" ")),l.verticalAlign&&"none"!==l.verticalAlign&&(l.transform=l.transform.split(" ").map(function(t){return t.startsWith("translateY")?"":t}).join(" ")),l)if("text"!==U&&"hover"!==U)switch(U){case"borderWidth":case"borderRadius":h[U]=0<=n[U]&&n[U]+"px"||u[U];break;case"rotation":case"scale":case"transform":h.transform||(h.transform=l.transform),void 0!==l[U]&&("scale"===U&&_helpers_main_js__WEBPACK_IMPORTED_MODULE_0__.default.applyTransform(h,U,l[U]/100),"rotation"===U&&_helpers_main_js__WEBPACK_IMPORTED_MODULE_0__.default.applyTransform(h,"rotate",l[U]+"deg"));break;case"transformOrigin":h.transformOrigin||(h.transformOrigin=u.transformOrigin);break;case"opacity":h[U]=0<=n[U]&&""+n[U]/100||u[U];break;case"src":case"previewSrc":case"video":case"image":case"audio":case"voiceOverComposer":if("image"===t.type){var z=n.image?n.image.url?n.image.url:"string"==typeof n.image?n.image:null:u.src;f.src!==z&&(f.src=z,null===f.src?f.style.opacity="0":f.style.opacity="1")}if("video"===t.type){var K=n.video?Bt.export||n.video.isCropped?n.video.url?n.video.url:n.video:n.video.preview&&n.video.preview.url&&n.video.preview.url.startsWith("https")?n.video.preview.url:n.video.url?n.video.url:n.video:Bt.export||l.isCropped?u.src:u.previewSrc&&u.previewSrc.startsWith("https")?u.previewSrc:u.src;f.disableRemotePlayback=!0,f.src!==K&&(f.src=K)}if("audio"===t.type){var q=n.audio?n.audio.url?n.audio.url:n.audio:n.voiceOverComposer&&n.voiceOverComposer.url?n.voiceOverComposer.url:u.src;f.src!==q&&(f.src=q)}break;case"fontFamily":h[U]=h[U]=o[U]||n[U]||u[U]||s[U];break;case"font":var H=h.fontFamily=o.fontFamily||n.fontFamily||u.fontFamily;if(void 0!==H){h[U]=(h[U]=o[U]||n[U]||u[U]).split(" ")[1]+" '"+H+"'";break}h[U]=o[U]||n[U]||u[U];break;case"horizontalAlign":var V=o[U]||n[U]||u[U];if("none"===V)break;"left"===V?(h.left=0,h.right="auto"):"center"===V?(h.left="50%",h.transform=h.transform?"translateX(-50%) "+h.transform:"translateX(-50%)"):"right"===V&&("absolute"===l.position?(h.left="auto",h.right=0):h.marginLeft="auto");break;case"verticalAlign":var J=o[U]||n[U]||u[U];if("none"===J)break;"top"===J?(h.top=0,h.bottom="auto"):"center"===J?(h.top="50%",h.transform=h.transform?"translateY(-50%) "+h.transform:"translateY(-50%)"):"bottom"===J&&("absolute"===l.position?(h.top="auto",h.bottom=0):h.marginTop="auto");break;case"font":var $=l.fontFamily;if(void 0!==$){h.font=(h.font=l.fontFamily).split(" ")[1]+" '"+$+"'";break}h.font=value;break;case"color":var G=n.color||l.color,X=f.querySelector("span");G&&G.includes("gradient")?X&&(X.style.background="-webkit-"+G.replace("-webkit-",""),X.style.textFillColor="transparent",X.style.WebkitTextFillColor="transparent",X.style.WebkitBackgroundClip="text",f.style.color="#000000"):X&&(X.style.background="unset",X.style.textFillColor="unset",X.style.WebkitTextFillColor="unset",X.style.WebkitBackgroundClip="unset",f.style.color=G);break;case"textShadow":var Q=f.querySelector("span");if(l.textShadow&&"none"!==l.textShadow)if(!1!==l.showTextShadow&&l.showTextShadow)Q?Q.style.filter="none":f.style.filter="none";else if(l.shadowColor){var Y=l.textShadow.split(" ");Y.pop();var Z=Y.join(" ")+" "+l.shadowColor;Q?Q.style.filter="drop-shadow(".concat(Z,")"):f.style.filter="drop-shadow(".concat(Z,")")}else Q?Q.style.filter="drop-shadow(".concat(l.textShadow,")"):f.style.filter="drop-shadow(".concat(l.textShadow,")");break;case"lottieAnimation":if(!window.lottie||!p)break;var tt=u.lottieAnimation.replaceAll("\r","\\r").replaceAll("\n","\\n"),et=tt.startsWith("http")?{path:tt}:{animationData:JSON.parse(tt)};_helpers_lottie_js__WEBPACK_IMPORTED_MODULE_5__.default.setLottie(t.key,window.lottie.loadAnimation(_objectSpread({container:f,name:t.key,renderer:"svg",loop:!1,autoplay:!1},et))),f.dataset.visibility=r.visibility||[0,1],f.classList.add(t.key);break;case"objectFit":case"objectPosition":h[U]=o[U]||n[U]||u[U];break;case"shadowColor":var rt=l.boxShadow;rt&&(h.boxShadow=rt,rt=h.boxShadow.split(" ").slice(-4).join(" "),h.boxShadow=rt+" "+l.shadowColor);break;case"fontSize":var nt=o[U]||n[U]||u[U];h[U]=nt;break;case"lineHeight":h[U]=o[U]||n[U]||u[U];break;case"width":h[U]=o[U]||n[U]||u[U],"image"===t.type&&"width"===U&&"auto"===h[U]&&(f.style.width="auto");break;case"rowGap":case"columnGap":h[U]=o[U]||n[U]?(o[U]||n[U])+"px":u[U];break;case"background":case"backgroundColor":case"backgroundImage":var it=n.backgroundImage?0<Object.keys(n.backgroundImage).length?"url(".concat(n.backgroundImage.url||n.backgroundImage,")"):void 0:l.backgroundImage,ot=n.backgroundPosition||l.backgroundPosition,at=n.backgroundSize||l.backgroundSize,st=n.backgroundRepeat||l.backgroundRepeat,ut=n.backgroundColor||n.background||l.backgroundColor||l.background;if(it){var ct="".concat(it," ").concat(ot||"center","/").concat(at||"cover"," ").concat(st||"no-repeat",", ").concat(ut||"#00000000");h.background=ct}else h.background=n.backgroundColor||n.background||l.backgroundColor||l.background;break;case"positionX":var lt=function(t,e){return"px"===e?t:t/Pt.clientWidth*100};if(l.left){var ft=_helpers_main_js__WEBPACK_IMPORTED_MODULE_0__.default.getUnitFromString(l.left),dt=l.left,pt=lt(n.positionX,ft);h.left=parseFloat(dt)+pt+ft}if(l.right){var ht=_helpers_main_js__WEBPACK_IMPORTED_MODULE_0__.default.getUnitFromString(l.right),mt=l.right,yt=lt(n.positionX,ht);h.right=parseFloat(mt)-yt+ht}case"positionY":var vt=function(t,e){return"px"===e?t:t/Pt.clientHeight*100};if(l.top){var gt=_helpers_main_js__WEBPACK_IMPORTED_MODULE_0__.default.getUnitFromString(l.top),_t=l.top,bt=vt(n.positionY,gt);h.top=parseFloat(_t)+bt+gt}if(l.bottom){var St=_helpers_main_js__WEBPACK_IMPORTED_MODULE_0__.default.getUnitFromString(l.bottom),Ot=l.bottom,Et=vt(n.positionY,St);h.bottom=parseFloat(Ot)-Et+St}default:h[U]=l[U]}if("video"===t.type){var jt=r.visibility&&r.visibility[0]*Ft.duration||0,wt=Nt&&Nt.format&&Nt.format.frameDuration?Number(Nt.format.frameDuration)/1e3:r.visibility?(r.visibility[1]-r.visibility[0])*Ft.duration:Ft.duration,kt=void 0===u.volume?1:u.volumeOff?0:u.volume;Bt.mediaScene.addMedia(f.id,f).seek(0,wt).setVolume(kt).setDelay(frameDelay+jt),pauseBaseMedia&&f.addEventListener("canplay",function(t){return t.target.pause()})}else if("audio"===t.type){var Tt=r.visibility&&r.visibility[0]*Ft.duration||0,Ct=Nt&&Nt.format&&Nt.format.frameDuration?Number(Nt.format.frameDuration)/1e3:r.visibility?(r.visibility[1]-r.visibility[0])*Ft.duration:Ft.duration,Dt=parseFloat(u.volume||1);Bt.mediaScene.addMedia(f.id,f).seek(0,Ct).setVolume(Dt).setDelay(frameDelay+Tt),pauseBaseMedia&&f.addEventListener("canplay",function(t){return t.target.pause()})}if("none"===l.display&&void 0===l.visibility)f.setAttribute("style","display: none !important");else if(void 0!==l.visibility)if(!1===l.visibility){var xt=l.display,Mt=xt&&"none"!==xt?xt:"block";f.style.display=Mt}else f.style.display="none";"rectangle"===t.type&&n.fontSize&&(h.fontSize=n.fontSize+"px"),(s.customCSS||r.customCSS)&&(Bt.CSS+=".frame-type .".concat(t.key," {").concat(s.customCSS||r.customCSS,"}"));var It=r.formats&&r.formats[Bt.model.format]&&r.formats[Bt.model.format].hover;if(It){var At=Object.entries(It).map(function(t){var e=_slicedToArray(t,2),r=e[0],n=e[1];return n?"transform"===r?"transform: ".concat(h.transform||""," ").concat(n," !important;"):"".concat(_helpers_main_js__WEBPACK_IMPORTED_MODULE_0__.default.convertToKebabCase(r),": ").concat(n," !important;"):""}).filter(function(t){return""!==t});0!==At.length&&(Bt.CSS+=".banner #clickTagLayer:hover + .frames .frame-type .".concat(t.key," {").concat(At.join(" "),"}"))}"false"!==f.getAttribute("data-draggable")&&f.getAttribute("data-draggable")?f.style.pointerEvents="auto":f.style.pointerEvents="none",t.children&&0<t.children.length&&Bt.renderLayers(f,t.children,Ft,Lt+1,Nt,Rt,Wt),p&&Pt.appendChild(f)}else f.parentNode&&f.parentNode.removeChild(f);else f.parentNode&&f.parentNode.removeChild(f)}),this.previousUserInput=_helpers_main_js__WEBPACK_IMPORTED_MODULE_0__.default.cloneDeep(Nt)}},{key:"convertVisibility",value:function(t){return 1===t||"1"===t||!0===t||"true"===t}},{key:"getFeedItem",value:function(o,a,s){var u=this;return Object.keys(o).forEach(function(t){try{if(6<parseInt(u.adSetup.templateVersion)){if("originalRecord"===t||t!==s)return;var e=_helpers_main_js__WEBPACK_IMPORTED_MODULE_0__.default.get(o,t);Object.keys(e).forEach(function(t){a[t]="visibility"===t?u.convertVisibility(e[t]):e[t]})}else{if("originalRecord"===t)return;var r=t.split("."),n=r[0],i=r[1];if(""===n||n!==s)return;a[i]="visibility"===i?u.convertVisibility(o[t]):o[t]}}catch(t){console.error("Error in feed item",t)}}),a}},{key:"getIterationCount",value:function(){if(!this.adSetup||!this.adSetup.bannerLoop)return 1;switch(this.adSetup.bannerLoop){case"noLoop":return 1;case"singleloop":return 2;case"doubleloop":return 3;case"tripleloop":return 4;case"infiniteloop":return"infinite";default:return 1}}},{key:"getValueFromModel",value:function getValueFromModel(model){var value="";try{value=eval("this.model."+model)}catch(t){return""}return value||(value=""),value}},{key:"handleClick",value:function(t){t.stopPropagation();try{t.cancelBubble()}catch(t){}this.model.xandrTemplate?window.open(APPNEXUS.getClickTag(),"_blank"):this.model.studioTemplate?["Enabler"].exit("Clickthrough"):window.open(window.clickTag,"_blank")}}]),Template}();__webpack_exports__.default=new Template},function(t,e,r){r.r(e);var b=r(2);e.default=function(i,e,o,t,a,r,n,s){var u=document.querySelector(".playbar"),c=document.querySelector(".play-template");c?c.innerHTML="":((c=document.createElement("div")).classList.add("play-template"),c.classList.add("before-start"),n&&c.classList.add("small"),c.classList.add("before-start"),c.style.zIndex=9999999),c.style.setProperty("--scale",t);var l="\n        <button class='play-template__play paused'></button>\n        <button class='play-template__sound muted'></button>\n        <div class='play-template__time'>0 / ".concat(Math.floor(o),"</div>\n        <div class='play-template__progress'>\n            <div class='play-template__progress__handle'></div>\n            <div class='play-template__progress__track'></div>\n        </div>\n    ");c.innerHTML=l,u.appendChild(c);var f=document.querySelector(".play-template__play"),d=document.querySelector(".play-template__sound"),p=document.querySelector(".play-template__progress__handle"),h=document.querySelector(".play-template__progress__track"),m=document.querySelector(".play-template__time"),y=document.querySelector(".play-template__progress");!r&&d&&d.parentNode.removeChild(d),f.addEventListener("click",function(){1===i.state.iteration&&(i.setTime(.01),b.default.manageLottie(!1,.01,o));var t=i.getTime();"running"===i.state.playState?(i.pause(),b.default.manageLottie(!1,t,o),c.classList.remove("before-start"),Object.values(e).forEach(function(t){return clearTimeout(t)})):(i.play(),b.default.manageLottie(!0,t,o),a&&document.querySelectorAll(".frametype-base video, .frametype-base audio").forEach(function(t){return t.pause()}))}),d.addEventListener("click",function(){d.classList.toggle("muted"),document.querySelectorAll("video, audio").forEach(function(t){t.muted=!t.muted})}),y.addEventListener("click",function(t){var e=t.clientX/t.currentTarget.offsetWidth;i.pause(),c.classList.add("paused");var r=0<e?o*e:.01;b.default.manageLottie(!1,r,o),i.setTime(r),a&&document.querySelectorAll(".frametype-base video, .frametype-base audio").forEach(function(t){return t.currentTime=0})});var v=function(t){return Math.floor(t/60)+":"+("0"+Math.floor(t%60)).slice(-2)},g=function(t){var e=t.clientX-y.getBoundingClientRect().x,r=(0<e?e:0)/y.offsetWidth,n=0<r?o*r:.01;"running"===i.state.playState&&(i.pause(),b.default.manageLottie(!1,n,o)),b.default.manageLottie(!1,n,o),i.setTime(n),a&&document.querySelectorAll(".frametype-base video, .frametype-base audio").forEach(function(t){return t.currentTime=0})},_=function t(){document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",t)};y.addEventListener("mousedown",function(){document.addEventListener("mousemove",g),document.addEventListener("mouseup",_)}),i.on("timeupdate",function(t){if(t.currentTime>=o)return i.getIterationCount()&&s<i.getIterationCount()||"infinite"===i.getIterationCount()?(s++,i.setTime(.01),void b.default.manageLottie(!1,.01,o)):(s=1,m.innerHTML=v(o)+" / "+v(o),b.default.manageLottie(!1,.01,5),void i.pause());m.innerHTML=v(t.currentTime)+" / "+v(o);var e=t.currentTime/o*100;p.style.left=e+"%",h.style.width=e+"%"}),i.on("ended",function(){m.innerHTML=v(o)+" / "+v(o),b.default.manageLottie(!1,o,o)}),i.on("play",function(t){f.classList.remove("paused")}),i.on("paused",function(t){f.classList.add("paused")})}},function(tt,et,rt){var nt;!function(){function n(t,e,r){return t.call.apply(t.bind,arguments)}function i(e,r,t){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,n),e.apply(r,t)}}return function(){return e.apply(r,arguments)}}function h(t,e,r){return(h=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?n:i).apply(null,arguments)}var s=Date.now||function(){return+new Date};function e(t,e){this.a=t,this.o=e||t,this.c=this.o.document}var u=!!window.FontFace;function c(t,e,r,n){if(e=t.c.createElement(e),r)for(var i in r)r.hasOwnProperty(i)&&("style"==i?e.style.cssText=r[i]:e.setAttribute(i,r[i]));return n&&e.appendChild(t.c.createTextNode(n)),e}function l(t,e,r){(t=t.c.getElementsByTagName(e)[0])||(t=document.documentElement),t.insertBefore(r,t.lastChild)}function r(t){t.parentNode&&t.parentNode.removeChild(t)}function m(t,e,r){e=e||[],r=r||[];for(var n=t.className.split(/\s+/),i=0;i<e.length;i+=1){for(var o=!1,a=0;a<n.length;a+=1)if(e[i]===n[a]){o=!0;break}o||n.push(e[i])}for(e=[],i=0;i<n.length;i+=1){for(o=!1,a=0;a<r.length;a+=1)if(n[i]===r[a]){o=!0;break}o||e.push(n[i])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function o(t,e){for(var r=t.className.split(/\s+/),n=0,i=r.length;n<i;n++)if(r[n]==e)return!0;return!1}function f(t,e,r){function n(){a&&i&&(a(o),a=null)}e=c(t,"link",{rel:"stylesheet",href:e,media:"all"});var i=!1,o=null,a=r||null;u?(e.onload=function(){i=!0,n()},e.onerror=function(){i=!0,o=Error("Stylesheet failed to load"),n()}):setTimeout(function(){i=!0,n()},0),l(t,"head",e)}function d(t,e,r,n){var i=t.c.getElementsByTagName("head")[0];if(i){var o=c(t,"script",{src:e}),a=!1;return o.onload=o.onreadystatechange=function(){a||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(a=!0,r&&r(null),o.onload=o.onreadystatechange=null,"HEAD"==o.parentNode.tagName&&i.removeChild(o))},i.appendChild(o),setTimeout(function(){a||(a=!0,r&&r(Error("Script load timeout")))},n||5e3),o}return null}function p(){this.a=0,this.c=null}function y(t){return t.a++,function(){t.a--,a(t)}}function v(t,e){t.c=e,a(t)}function a(t){0==t.a&&t.c&&(t.c(),t.c=null)}function g(t){this.a=t||"-"}function _(t,e){this.c=t,this.f=4,this.a="n";var r=(e||"n4").match(/^([nio])([1-9])$/i);r&&(this.a=r[1],this.f=parseInt(r[2],10))}function b(t){var e=[];t=t.split(/,\s*/);for(var r=0;r<t.length;r++){var n=t[r].replace(/['"]/g,"");-1!=n.indexOf(" ")||/^\d/.test(n)?e.push("'"+n+"'"):e.push(n)}return e.join(",")}function S(t){return t.a+t.f}function O(t){var e="normal";return"o"===t.a?e="oblique":"i"===t.a&&(e="italic"),e}function E(t,e){this.c=t,this.f=t.o.document.documentElement,this.h=e,this.a=new g("-"),this.j=!1!==e.events,this.g=!1!==e.classes}function j(t){if(t.g){var e=o(t.f,t.a.c("wf","active")),r=[],n=[t.a.c("wf","loading")];e||r.push(t.a.c("wf","inactive")),m(t.f,r,n)}w(t,"inactive")}function w(t,e,r){t.j&&t.h[e]&&(r?t.h[e](r.c,S(r)):t.h[e]())}function k(){this.c={}}function T(t,e){this.c=t,this.f=e,this.a=c(this.c,"span",{"aria-hidden":"true"},this.f)}function C(t){l(t.c,"body",t.a)}function D(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+b(t.c)+";font-style:"+O(t)+";font-weight:"+t.f+"00;"}function x(t,e,r,n,i,o){this.g=t,this.j=e,this.a=n,this.c=r,this.f=i||3e3,this.h=o||void 0}function M(t,e,r,n,i,o,a){this.v=t,this.B=e,this.c=r,this.a=n,this.s=a||"BESbswy",this.f={},this.w=i||3e3,this.u=o||null,this.m=this.j=this.h=this.g=null,this.g=new T(this.c,this.s),this.h=new T(this.c,this.s),this.j=new T(this.c,this.s),this.m=new T(this.c,this.s),t=D(t=new _(this.a.c+",serif",S(this.a))),this.g.a.style.cssText=t,t=D(t=new _(this.a.c+",sans-serif",S(this.a))),this.h.a.style.cssText=t,t=D(t=new _("serif",S(this.a))),this.j.a.style.cssText=t,t=D(t=new _("sans-serif",S(this.a))),this.m.a.style.cssText=t,C(this.g),C(this.h),C(this.j),C(this.m)}g.prototype.c=function(t){for(var e=[],r=0;r<arguments.length;r++)e.push(arguments[r].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.a)},x.prototype.start=function(){var i=this.c.o.document,o=this,a=s(),t=new Promise(function(r,n){!function e(){var t;s()-a>=o.f?n():i.fonts.load((t=o.a,O(t)+" "+t.f+"00 300px "+b(t.c)),o.h).then(function(t){1<=t.length?r():setTimeout(e,25)},function(){n()})}()}),r=null,e=new Promise(function(t,e){r=setTimeout(e,o.f)});Promise.race([e,t]).then(function(){r&&(clearTimeout(r),r=null),o.g(o.a)},function(){o.j(o.a)})};var I={D:"serif",C:"sans-serif"},A=null;function P(){if(null===A){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);A=!!t&&(parseInt(t[1],10)<536||536===parseInt(t[1],10)&&parseInt(t[2],10)<=11)}return A}function F(t,e,r){for(var n in I)if(I.hasOwnProperty(n)&&e===t.f[I[n]]&&r===t.f[I[n]])return!0;return!1}function L(t,e){setTimeout(h(function(){r(this.g.a),r(this.h.a),r(this.j.a),r(this.m.a),e(this.a)},t),0)}function N(t,e,r){this.c=t,this.a=e,this.f=0,this.m=this.j=!1,this.s=r}M.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=s(),function t(e){var r,n=e.g.a.offsetWidth,i=e.h.a.offsetWidth;(r=n===e.f.serif&&i===e.f["sans-serif"])||(r=P()&&F(e,n,i)),r?s()-e.A>=e.w?P()&&F(e,n,i)&&(null===e.u||e.u.hasOwnProperty(e.a.c))?L(e,e.v):L(e,e.B):setTimeout(h(function(){t(this)},e),50):L(e,e.v)}(this)};var R=null;function W(t){0==--t.f&&t.j&&(t.m?((t=t.a).g&&m(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),w(t,"active")):j(t.a))}function t(t){this.j=t,this.a=new k,this.h=0,this.f=this.g=!0}function B(t,e){this.c=t,this.a=e}function U(t,e){this.c=t,this.a=e}function z(t,e){this.c=t||"https://fonts.googleapis.com/css",this.a=[],this.f=[],this.g=e||""}N.prototype.g=function(t){var e=this.a;e.g&&m(e.f,[e.a.c("wf",t.c,S(t).toString(),"active")],[e.a.c("wf",t.c,S(t).toString(),"loading"),e.a.c("wf",t.c,S(t).toString(),"inactive")]),w(e,"fontactive",t),this.m=!0,W(this)},N.prototype.h=function(t){var e=this.a;if(e.g){var r=o(e.f,e.a.c("wf",t.c,S(t).toString(),"active")),n=[],i=[e.a.c("wf",t.c,S(t).toString(),"loading")];r||n.push(e.a.c("wf",t.c,S(t).toString(),"inactive")),m(e.f,n,i)}w(e,"fontinactive",t),W(this)},t.prototype.load=function(t){this.c=new e(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,function(i,t,e){var r,n=[],o=e.timeout;(r=t).g&&m(r.f,[r.a.c("wf","loading")]),w(r,"loading"),n=function(t,e,r){var n,i=[];for(n in e)if(e.hasOwnProperty(n)){var o=t.c[n];o&&i.push(o(e[n],r))}return i}(i.a,e,i.c);var a=new N(i.c,t,o);for(i.h=n.length,t=0,e=n.length;t<e;t++)n[t].load(function(t,e,r){var n,c,l,f,d,p;c=a,l=t,f=e,d=r,p=0==--(n=i).h,(n.f||n.g)&&setTimeout(function(){var t=d||null,e=f||{};if(0===l.length&&p)j(c.a);else{c.f+=l.length,p&&(c.j=p);var r,n=[];for(r=0;r<l.length;r++){var i=l[r],o=e[i.c],a=c.a,s=i;if(a.g&&m(a.f,[a.a.c("wf",s.c,S(s).toString(),"loading")]),w(a,"fontloading",s),(a=null)===R)if(window.FontFace){s=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var u=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);R=s?42<parseInt(s[1],10):!u}else R=!1;a=R?new x(h(c.g,c),h(c.h,c),c.c,i,c.s,o):new M(h(c.g,c),h(c.h,c),c.c,i,c.s,t,o),n.push(a)}for(r=0;r<n.length;r++)n[r].start()}},0)})}(this,new E(this.c,t),t)},B.prototype.load=function(a){var e=this,s=e.a.projectId,t=e.a.version;if(s){var u=e.c.o;d(this.c,(e.a.api||"https://fast.fonts.net/jsapi")+"/"+s+".js"+(t?"?v="+t:""),function(t){t?a([]):(u["__MonotypeConfiguration__"+s]=function(){return e.a},function t(){if(u["__mti_fntLst"+s]){var e,r=u["__mti_fntLst"+s](),n=[];if(r)for(var i=0;i<r.length;i++){var o=r[i].fontfamily;null!=r[i].fontStyle&&null!=r[i].fontWeight?(e=r[i].fontStyle+r[i].fontWeight,n.push(new _(o,e))):n.push(new _(o))}a(n)}else setTimeout(function(){t()},50)}())}).id="__MonotypeAPIScript__"+s}else a([])},U.prototype.load=function(t){var e,r,n=this.a.urls||[],i=this.a.families||[],o=this.a.testStrings||{},a=new p;for(e=0,r=n.length;e<r;e++)f(this.c,n[e],y(a));var s=[];for(e=0,r=i.length;e<r;e++)if((n=i[e].split(":"))[1])for(var u=n[1].split(","),c=0;c<u.length;c+=1)s.push(new _(n[0],u[c]));else s.push(new _(n[0]));v(a,function(){t(s,o)})};function K(t){this.f=t,this.a=[],this.c={}}var q={latin:"BESbswy","latin-ext":"",cyrillic:"",greek:"",khmer:"",Hanuman:""},H={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},V={i:"i",italic:"i",n:"n",normal:"n"},J=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function $(t,e){this.c=t,this.a=e}var G={Arimo:!0,Cousine:!0,Tinos:!0};function X(t,e){this.c=t,this.a=e}function Q(t,e){this.c=t,this.f=e,this.a=[]}$.prototype.load=function(t){var e=new p,r=this.c,n=new z(this.a.api,this.a.text),i=this.a.families;!function(t,e){for(var r=e.length,n=0;n<r;n++){var i=e[n].split(":");3==i.length&&t.f.push(i.pop());var o="";2==i.length&&""!=i[1]&&(o=":"),t.a.push(i.join(o))}}(n,i);var o=new K(i);!function(t){for(var e=t.f.length,r=0;r<e;r++){var n=t.f[r].split(":"),i=n[0].replace(/\+/g," "),o=["n4"];if(2<=n.length){var a;if(a=[],s=n[1])for(var s,u=(s=s.split(",")).length,c=0;c<u;c++){var l;if((l=s[c]).match(/^[\w-]+$/))if(null==(f=J.exec(l.toLowerCase())))l="";else{if(l=null==(l=f[2])||""==l?"n":V[l],null==(f=f[1])||""==f)f="4";else var f=H[f]||(isNaN(f)?"4":f.substr(0,1));l=[l,f].join("")}else l="";l&&a.push(l)}0<a.length&&(o=a),3==n.length&&(a=[],0<(n=(n=n[2])?n.split(","):a).length&&(n=q[n[0]])&&(t.c[i]=n))}for(t.c[i]||(n=q[i])&&(t.c[i]=n),n=0;n<o.length;n+=1)t.a.push(new _(i,o[n]))}}(o),f(r,function(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var e=t.a.length,r=[],n=0;n<e;n++)r.push(t.a[n].replace(/ /g,"+"));return e=t.c+"?family="+r.join("%7C"),0<t.f.length&&(e+="&subset="+t.f.join(",")),0<t.g.length&&(e+="&text="+encodeURIComponent(t.g)),e}(n),y(e)),v(e,function(){t(o.a,o.c,G)})},X.prototype.load=function(a){var t=this.a.id,s=this.c.o;t?d(this.c,(this.a.api||"https://use.typekit.net")+"/"+t+".js",function(t){if(t)a([]);else if(s.Typekit&&s.Typekit.config&&s.Typekit.config.fn){t=s.Typekit.config.fn;for(var e=[],r=0;r<t.length;r+=2)for(var n=t[r],i=t[r+1],o=0;o<i.length;o++)e.push(new _(n,i[o]));try{s.Typekit.load({events:!1,classes:!1,async:!0})}catch(t){}a(e)}},2e3):a([])},Q.prototype.load=function(c){var t,e=this.f.id,r=this.c.o,l=this;e?(r.__webfontfontdeckmodule__||(r.__webfontfontdeckmodule__={}),r.__webfontfontdeckmodule__[e]=function(t,e){for(var r=0,n=e.fonts.length;r<n;++r){var i=e.fonts[r];l.a.push(new _(i.name,(o="font-weight:"+i.weight+";font-style:"+i.style,u=s=a=void 0,a=4,s="n",u=null,o&&((u=o.match(/(normal|oblique|italic)/i))&&u[1]&&(s=u[1].substr(0,1).toLowerCase()),(u=o.match(/([1-9]00|normal|bold)/i))&&u[1]&&(/bold/i.test(u[1])?a=7:/[1-9]00/.test(u[1])&&(a=parseInt(u[1].substr(0,1),10)))),s+a)))}var o,a,s,u;c(l.a)},d(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+((t=this.c).o.location.hostname||t.a.location.hostname)+"/"+e+".js",function(t){t&&c([])})):c([])};var Y=new t(window);Y.a.c.custom=function(t,e){return new U(e,t)},Y.a.c.fontdeck=function(t,e){return new Q(e,t)},Y.a.c.monotype=function(t,e){return new B(e,t)},Y.a.c.typekit=function(t,e){return new X(e,t)},Y.a.c.google=function(t,e){return new $(e,t)};var Z={load:h(Y.load,Y)};void 0===(nt=function(){return Z}.call(et,rt,et,tt))||(tt.exports=nt)}()},function(t,e,r){r.d(e,"a",function(){return u});var n=r(3),i=r(0),o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}"function"==typeof SuppressedError&&SuppressedError;var s=function(r){function t(t){var e=r.call(this)||this;return e.isPlayMedia=!1,e.init(t),e}return a(t,r),t.prototype.getMediaItem=function(){return this.mediaItem},t.prototype.getVolume=function(){return this.mediaItem.get(0,"volume")},t.prototype.setVolume=function(t){return this.mediaItem.set(0,"volume",t),this},t.prototype.setPlaySpeed=function(t){return this.mediaItem.setPlaySpeed(t),this},t.prototype.seek=function(t,e){var r=this.mediaItem;return r.set(0,"seek",t),r.set("100%","seek",e),r.setDuration(e-t),this},t.prototype.setElement=function(t){return this.mediaItem.setElement(t),this},t.prototype.getMediaElement=function(){return this.mediaItem.getElements()[0]},t.prototype.getInfo=function(){var t=this.mediaItem,e=[t.get(0,"seek"),t.get("100%","seek")],r=t.getPlaySpeed(),n=this.getVolume(),i=this.getDelay();return{url:this.url,seek:e,playSpeed:r,delay:i,volume:n}},t.prototype.init=function(t){var h=this,e=Number(Math.random()).toString(16).replace(".",""),m=this.newItem("media-"+e);if(m.newFrame(0),m.newFrame(1),m.set(0,"volume",1),m.set(0,"seek",0),m.set("100%","seek",0),this.mediaItem=m,Object(i.E)(t)){var r=new Audio;r.src=t,this.setElement(r),this.url=t}else{if(t.src)this.url=t.src;else{var n=t.querySelector("[src]");this.url=n?n.src:""}this.setElement(t)}var y=0;this.on("paused",function(t){var e;h.isPlayMedia=!1,null===(e=h.getMediaElement())||void 0===e||e.pause()}),this.on("animate",function(t){var e=h.getMediaElement(),r=t.time,n=r<y,i="running"===h.getPlayState(),o=-1<h.getDirection().indexOf("reverse"),a=h.isPlayMedia,s=Object.keys(t.frames).find(function(t){return t.startsWith("media")}),u=t.frames[s],c=m.getPlaySpeed(),l=h.getDuration(),f=h.getVolume(),d=u.get("seek");if(y=r,i&&a||(e.playbackRate=c*(o?-1:1),e.currentTime=d),n||r<=0||l<=r)i&&(h.isPlayMedia=!1,e.pause());else if(e.volume=f,!a&&i){h.isPlayMedia=!0;var p=e.play();p instanceof Promise&&p.catch(function(){e.muted=!0,e.play()})}})},t}(n.a),u=function(e){function t(){var t=e.call(this)||this;return t.playInfos={},t}return a(t,e),t.prototype.addMedia=function(t,e){void 0===e&&(e=t);var r=new s(e);return this.setItem(t,r),r},t.prototype.getInfo=function(){var e={duration:0,medias:[]};return this.forEach(function(t){e.medias.push(t.getInfo())}),e.duration=this.getDuration(),e},t}(n.a)},function(t,e,r){r(9),r(4),r(2),r(1),t.exports=r(5)},function(t,e,r){r.r(e);var n=r(4).default;window.template=n}]);